(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{30:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var s=c(25),a=c.n(s),n=c(7),r=c(3),o=(c(30),c(15)),i=c.n(o),l=c(1),j=function(e){var t=e.isActive;return i()("nav__link",{"nav__link--active":t})},b=function(){return Object(l.jsx)("nav",{className:"nav",children:Object(l.jsxs)("ul",{className:"nav__list",children:[Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)(n.c,{to:"/",className:j,children:"home"})}),Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)(n.c,{to:"/phones",className:j,children:"phones"})}),Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)(n.c,{to:"/tablets",className:j,children:"tablets"})}),Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)(n.c,{to:"/accessories",className:j,children:"accessories"})})]})})},u=function(){return Object(l.jsx)(n.b,{to:"/",className:"favourites header__button",children:Object(l.jsx)("img",{src:"./img/icons/favourites.svg",alt:"Favourites button",className:"favourites__icon"})})},d=function(){return Object(l.jsx)(n.b,{to:"/",className:"logo header__logo",children:Object(l.jsx)("img",{src:"./img/logo/logo.svg",alt:"",className:"logo__image"})})},_=function(){return Object(l.jsx)(n.b,{to:"/",className:"cart header__button",children:Object(l.jsx)("img",{src:"./img/icons/shopping-bag.svg",alt:"Cart button",className:"cart__icon"})})},h=function(){return Object(l.jsxs)("header",{className:"header",children:[Object(l.jsxs)("div",{className:"header__nav-container",children:[Object(l.jsx)(d,{}),Object(l.jsx)(b,{})]}),Object(l.jsxs)("div",{className:"header__button-container",children:[Object(l.jsx)(u,{}),Object(l.jsx)(_,{})]})]})},m=function(){return Object(l.jsxs)(n.b,{to:"/",className:"footer-button",children:["Back to top",Object(l.jsx)("div",{className:"footer-button__icon"})]})},O=function(){return Object(l.jsx)(n.b,{to:"/",className:"logo",children:Object(l.jsx)("img",{src:"./img/logo/logo.svg",alt:"",className:"logo__image"})})},p=function(){return Object(l.jsx)("nav",{className:"nav footer__nav",children:Object(l.jsxs)("ul",{className:"nav__list",children:[Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)("a",{href:"https://github.com/mate-academy/react_phone-catalog",target:"_blank",className:"nav__link",rel:"noreferrer",children:"github"})}),Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)("a",{href:"tel:+380932881881",target:"_blank",className:"nav__link",rel:"noreferrer",children:"contacts"})}),Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)("a",{href:"https://mate.academy",target:"_blank",className:"nav__link",rel:"noreferrer",children:"rights"})})]})})},x=function(){return Object(l.jsxs)("footer",{className:"footer",children:[Object(l.jsx)(O,{}),Object(l.jsx)(p,{}),Object(l.jsx)(m,{})]})},f=function(){return Object(l.jsxs)("div",{className:"page",children:[Object(l.jsx)(h,{}),Object(l.jsx)(r.a,{}),Object(l.jsx)(x,{})]})},g=c(11),N=c(4),v=c(0),k=[0,1,2],y=["./img/img/banner-phones.png","./img/img/banner-tablets.png","./img/img/banner-accessories.png"].map((function(e){return Object(l.jsx)("img",{className:"photos__photo",src:e,alt:"Accessories"},e)})),S=function(){var e=Object(v.useState)(0),t=Object(N.a)(e,2),c=t[0],s=t[1],a=Object(v.useState)(!1),n=Object(N.a)(a,2),r=n[0],o=n[1];Object(v.useEffect)((function(){c<0&&s(y.length-1),c>y.length-1&&s(0),o(!0),setTimeout((function(){o(!1)}),1e3)}),[c]);var j=function(){s((function(e){return e+1}))};return Object(v.useEffect)((function(){var e=setInterval((function(){j()}),5e3);return function(){return clearInterval(e)}}),[c]),Object(l.jsxs)("div",{className:"photos",children:[Object(l.jsxs)("div",{className:"photos__container",children:[Object(l.jsx)("button",{className:i()("photos__button photos__button--left"),type:"button","aria-label":"Left button",onClick:function(){s((function(e){return e-1}))},disabled:r}),Object(l.jsx)("div",{className:"photos__slider-track",children:y.map((function(e,t){var s=Object(g.a)({},e);return s.props=Object(g.a)(Object(g.a)({},s.props),{},{className:"photos__photo photos__photo--next"}),t===c&&(s.props=Object(g.a)(Object(g.a)({},s.props),{},{className:"photos__photo photos__photo--current"})),(t===c-1||0===c&&t===y.length-1)&&(s.props=Object(g.a)(Object(g.a)({},s.props),{},{className:"photos__photo photos__photo--prev"})),s}))}),Object(l.jsx)("button",{className:i()("photos__button photos__button--right"),type:"button","aria-label":"Right button",onClick:j,disabled:r})]}),Object(l.jsx)("div",{className:"photos__dots",children:k.map((function(e){return Object(l.jsx)("div",{className:i()("photos__dot",{"photos__dot--active":e===c})},e)}))})]})},E=function(e){return(t=500,new Promise((function(e){setTimeout(e,t)}))).then((function(){return fetch("https://mate-academy.github.io/react_phone-catalog/"+e)})).then((function(e){if(!e.ok)throw new Error;return e.json()}));var t},w=function(){return E("api/products.json")},C=function(e){var t=e.product,c=t.imageUrl,s=t.name,a=t.price,n=t.discount,r=t.screen,o=t.capacity,i=t.ram;return Object(l.jsxs)("div",{className:"product-card","data-cy":"cardsContainer",children:[Object(l.jsxs)("div",{className:"product-card__container",children:[Object(l.jsx)("img",{src:"../".concat(c),alt:s,className:"product-card__image"}),Object(l.jsx)("p",{className:"product-card__name",children:s})]}),Object(l.jsxs)("div",{className:"product-card__container",children:[Object(l.jsxs)("p",{className:"product-card__price",children:["$".concat(10*Math.round(a*(.1-n/1e3))-1),!!n&&Object(l.jsx)("span",{className:"product-card__full-price",children:" $".concat(a-1)})]}),Object(l.jsx)("div",{className:"product-card__line"}),Object(l.jsxs)("div",{className:"product-card__text-box",children:[Object(l.jsx)("p",{className:"product-card__param-name",children:"Screen"}),Object(l.jsx)("p",{className:"product-card__param-value",children:r})]}),Object(l.jsxs)("div",{className:"product-card__text-box",children:[Object(l.jsx)("p",{className:"product-card__param-name",children:"Capacity"}),Object(l.jsx)("p",{className:"product-card__param-value",children:o})]}),Object(l.jsxs)("div",{className:"product-card__text-box",children:[Object(l.jsx)("p",{className:"product-card__param-name",children:"RAM"}),Object(l.jsx)("p",{className:"product-card__param-value",children:i})]}),Object(l.jsxs)("div",{className:"product-card__interaction-block",children:[Object(l.jsx)("button",{className:"product-card__cart-button",type:"button",children:"Add to cart"}),Object(l.jsx)("button",{className:"product-card__favourites-button",type:"button",children:Object(l.jsx)("div",{className:"product-card__favourites-icon"})})]})]})]})},L=function(){var e,t=Object(v.useState)([]),c=Object(N.a)(t,2),s=c[0],a=c[1],n=Object(v.useState)(0),r=Object(N.a)(n,2),o=r[0],i=r[1],j=Object(v.useState)(!1),b=Object(N.a)(j,2),u=b[0],d=b[1],_=Object(v.useState)(!1),h=Object(N.a)(_,2),m=h[0],O=h[1],p=Object(v.useRef)(),x=(null===(e=p.current)||void 0===e?void 0:e.clientWidth)||0,f=Object(v.useMemo)((function(){return(x+16)/4}),[x]);Object(v.useEffect)((function(){w().then((function(e){return e.filter((function(e){return e.discount>0})).sort((function(e,t){return t.price*t.discount-e.price*e.discount}))})).then(a).catch((function(){return new Error("Loading products error")}))}),[]),Object(v.useEffect)((function(){0!==o?(s.length-4)*f!==-o?(d(!1),O(!1)):O(!0):d(!0)}),[o]);return Object(l.jsxs)("div",{className:"slider slider--first",children:[Object(l.jsxs)("div",{className:"slider__panel",children:[Object(l.jsx)("h2",{className:"slider__title",children:"Hot prices"}),Object(l.jsxs)("div",{className:"slider__buttons",children:[Object(l.jsx)("button",{className:"slider__button slider__button--left",type:"button","aria-label":"Left button",onClick:function(){i((function(e){return e+f}))},disabled:u}),Object(l.jsx)("button",{className:"slider__button slider__button--right",type:"button","aria-label":"Right button",onClick:function(){i((function(e){return e-f}))},disabled:m})]})]}),Object(l.jsx)("div",{className:"slider__track-container",ref:p,children:Object(l.jsx)("div",{className:"slider__track",style:{transform:"translate(".concat(o,"px)")},children:s.map((function(e){return Object(l.jsx)(C,{product:e},e.id)}))})})]})},R=function(){var e=Object(v.useState)(0),t=Object(N.a)(e,2),c=t[0],s=t[1],a=Object(v.useState)(0),r=Object(N.a)(a,2),o=r[0],i=r[1],j=Object(v.useState)(0),b=Object(N.a)(j,2),u=b[0],d=b[1];return Object(v.useEffect)((function(){w().then((function(e){s(e.filter((function(e){return"tablet"===e.type})).length),i(e.filter((function(e){return"accessories"===e.type})).length)})).catch((function(){throw new Error("Loading product error")})),E("_new/products.json").then((function(e){d(e.filter((function(e){return"phones"===e.category})).length)})).catch((function(){throw new Error("Loading product error")}))}),[]),Object(l.jsxs)("div",{className:"categories",children:[Object(l.jsx)("h2",{className:"categories__title",children:"Shop by category"}),Object(l.jsxs)("div",{className:"categories__container","data-cy":"categoryLinksContainer",children:[Object(l.jsxs)(n.b,{to:"/phones",className:"categories__link categories__link--1",children:[Object(l.jsx)("div",{className:"categories__image categories__image--1"}),Object(l.jsx)("p",{className:"categories__category",children:"Mobile phones"}),Object(l.jsx)("p",{className:"categories__count",children:"".concat(u," models")})]}),Object(l.jsxs)(n.b,{to:"/tablets",className:"categories__link categories__link--2",children:[Object(l.jsx)("div",{className:"categories__image categories__image--2"}),Object(l.jsx)("p",{className:"categories__category",children:"Tablets"}),Object(l.jsx)("p",{className:"categories__count",children:"".concat(c," models")})]}),Object(l.jsxs)(n.b,{to:"/accessories",className:"categories__link categories__link--3",children:[Object(l.jsx)("div",{className:"categories__image categories__image--3"}),Object(l.jsx)("p",{className:"categories__category",children:"Accessories"}),Object(l.jsx)("p",{className:"categories__count",children:"".concat(o," models")})]})]})]})},A=function(){var e,t=Object(v.useState)([]),c=Object(N.a)(t,2),s=c[0],a=c[1],n=Object(v.useState)(0),r=Object(N.a)(n,2),o=r[0],i=r[1],j=Object(v.useState)(!1),b=Object(N.a)(j,2),u=b[0],d=b[1],_=Object(v.useState)(!1),h=Object(N.a)(_,2),m=h[0],O=h[1],p=Object(v.useRef)(),x=(null===(e=p.current)||void 0===e?void 0:e.clientWidth)||0,f=Object(v.useMemo)((function(){return(x+16)/4}),[x]);Object(v.useEffect)((function(){w().then((function(e){return e.filter((function(e){return 0===e.discount})).sort((function(e,t){return t.price-e.price}))})).then(a).catch((function(){return new Error("Loading products error")}))}),[]),Object(v.useEffect)((function(){0!==o?(s.length-4)*f!==-o?(d(!1),O(!1)):O(!0):d(!0)}),[o]);return Object(l.jsxs)("div",{className:"slider",children:[Object(l.jsxs)("div",{className:"slider__panel",children:[Object(l.jsx)("h2",{className:"slider__title",children:"Hot prices"}),Object(l.jsxs)("div",{className:"slider__buttons",children:[Object(l.jsx)("button",{className:"slider__button slider__button--left",type:"button","aria-label":"Left button",onClick:function(){i((function(e){return e+f}))},disabled:u}),Object(l.jsx)("button",{className:"slider__button slider__button--right",type:"button","aria-label":"Right button",onClick:function(){i((function(e){return e-f}))},disabled:m})]})]}),Object(l.jsx)("div",{className:"slider__track-container",ref:p,children:Object(l.jsx)("div",{className:"slider__track",style:{transform:"translate(".concat(o,"px)")},children:s.map((function(e){return Object(l.jsx)(C,{product:e},e.id)}))})})]})},M=function(){return Object(l.jsxs)("main",{className:"home page__main-container",children:[Object(l.jsx)(S,{}),Object(l.jsx)(L,{}),Object(l.jsx)(R,{}),Object(l.jsx)(A,{})]})},I=function(){return Object(l.jsx)("div",{className:"phones"})},T=function(){return Object(l.jsx)("div",{className:"tablets"})},B=function(){return Object(l.jsx)("div",{className:"accessories"})},H=function(){return Object(l.jsx)(n.a,{children:Object(l.jsx)(r.d,{children:Object(l.jsxs)(r.b,{path:"/",element:Object(l.jsx)(f,{}),children:[Object(l.jsx)(r.b,{index:!0,element:Object(l.jsx)(M,{})}),Object(l.jsx)(r.b,{path:"phones",element:Object(l.jsx)(I,{})}),Object(l.jsx)(r.b,{path:"tablets",element:Object(l.jsx)(T,{})}),Object(l.jsx)(r.b,{path:"accessories",element:Object(l.jsx)(B,{})})]})})})};a.a.render(Object(l.jsx)(H,{}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.58aa4fec.chunk.js.map