(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{30:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var a=c(25),s=c.n(a),n=c(6),r=c(3),o=(c(30),c(10)),i=c.n(o),l=c(0),j=function(e){var t=e.isActive;return i()("nav__link",{"nav__link--active":t})},u=function(){return Object(l.jsx)("nav",{className:"nav",children:Object(l.jsxs)("ul",{className:"nav__list",children:[Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)(n.c,{to:"/",className:j,children:"home"})}),Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)(n.c,{to:"/phones",className:j,children:"phones"})}),Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)(n.c,{to:"/tablets",className:j,children:"tablets"})}),Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)(n.c,{to:"/accessories",className:j,children:"accessories"})})]})})},d=function(){return Object(l.jsx)(n.b,{to:"/",className:"favourites header__button",children:Object(l.jsx)("img",{src:"./img/icons/favourites.svg",alt:"Favourites button",className:"favourites__icon"})})},b=function(){return Object(l.jsx)(n.b,{to:"/",className:"logo header__logo",children:Object(l.jsx)("img",{src:"./img/logo/logo.svg",alt:"",className:"logo__image"})})},_=function(){return Object(l.jsx)(n.b,{to:"/",className:"cart header__button",children:Object(l.jsx)("img",{src:"./img/icons/shopping-bag.svg",alt:"Cart button",className:"cart__icon"})})},p=function(){return Object(l.jsxs)("header",{className:"header",children:[Object(l.jsxs)("div",{className:"header__nav-container",children:[Object(l.jsx)(b,{}),Object(l.jsx)(u,{})]}),Object(l.jsxs)("div",{className:"header__button-container",children:[Object(l.jsx)(d,{}),Object(l.jsx)(_,{})]})]})},m=function(){return Object(l.jsxs)(n.b,{to:"/",className:"footer-button",children:["Back to top",Object(l.jsx)("div",{className:"footer-button__icon"})]})},O=function(){return Object(l.jsx)(n.b,{to:"/",className:"logo",children:Object(l.jsx)("img",{src:"./img/logo/logo.svg",alt:"",className:"logo__image"})})},h=function(){return Object(l.jsx)("nav",{className:"nav footer__nav",children:Object(l.jsxs)("ul",{className:"nav__list",children:[Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)("a",{href:"https://github.com/mate-academy/react_phone-catalog",target:"_blank",className:"nav__link",rel:"noreferrer",children:"github"})}),Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)("a",{href:"tel:+380932881881",target:"_blank",className:"nav__link",rel:"noreferrer",children:"contacts"})}),Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)("a",{href:"https://mate.academy",target:"_blank",className:"nav__link",rel:"noreferrer",children:"rights"})})]})})},x=function(){return Object(l.jsx)("footer",{className:"footer",children:Object(l.jsxs)("div",{className:"footer__container",children:[Object(l.jsx)(O,{}),Object(l.jsx)(h,{}),Object(l.jsx)(m,{})]})})},f=function(){return Object(l.jsxs)("div",{className:"page",children:[Object(l.jsx)(p,{}),Object(l.jsx)(r.a,{}),Object(l.jsx)(x,{})]})},g=c(12),v=c(4),N=c(1),y=[0,1,2],k=["./img/img/banner-phones.png","./img/img/banner-tablets.png","./img/img/banner-accessories.png"].map((function(e){return Object(l.jsx)("img",{className:"photos__photo",src:e,alt:"Accessories"},e)})),S=function(){var e=Object(N.useState)(0),t=Object(v.a)(e,2),c=t[0],a=t[1],s=Object(N.useState)(!1),n=Object(v.a)(s,2),r=n[0],o=n[1];Object(N.useEffect)((function(){c<0&&a(k.length-1),c>k.length-1&&a(0),o(!0);var e=setTimeout((function(){o(!1)}),1e3);return function(){return clearTimeout(e)}}),[c]);var j=function(){a((function(e){return e+1}))};return Object(N.useEffect)((function(){var e=setInterval((function(){j()}),5e3);return function(){return clearInterval(e)}}),[c]),Object(l.jsxs)("div",{className:"photos",children:[Object(l.jsxs)("div",{className:"photos__container",children:[Object(l.jsx)("button",{className:i()("photos__button photos__button--left"),type:"button","aria-label":"Left button",onClick:function(){a((function(e){return e-1}))},disabled:r}),Object(l.jsx)("div",{className:"photos__slider-track",children:k.map((function(e,t){var a=Object(g.a)({},e);return a.props=Object(g.a)(Object(g.a)({},a.props),{},{className:"photos__photo photos__photo--next"}),t===c&&(a.props=Object(g.a)(Object(g.a)({},a.props),{},{className:"photos__photo photos__photo--current"})),(t===c-1||0===c&&t===k.length-1)&&(a.props=Object(g.a)(Object(g.a)({},a.props),{},{className:"photos__photo photos__photo--prev"})),a}))}),Object(l.jsx)("button",{className:i()("photos__button photos__button--right"),type:"button","aria-label":"Right button",onClick:j,disabled:r})]}),Object(l.jsx)("div",{className:"photos__dots",children:y.map((function(e){return Object(l.jsx)("div",{className:i()("photos__dot",{"photos__dot--active":e===c})},e)}))})]})},C=function(e){return(t=500,new Promise((function(e){setTimeout(e,t)}))).then((function(){return fetch("https://mate-academy.github.io/react_phone-catalog/"+e)})).then((function(e){if(!e.ok)throw new Error;return e.json()}));var t},w=function(){return C("api/products.json")},E=function(e){var t=e.product,c=t.imageUrl,a=t.name,s=t.price,n=t.discount,r=t.screen,o=t.capacity,i=t.ram;return Object(l.jsxs)("div",{className:"product-card","data-cy":"cardsContainer",children:[Object(l.jsxs)("div",{className:"product-card__container",children:[Object(l.jsx)("img",{src:"../".concat(c),alt:a,className:"product-card__image"}),Object(l.jsx)("p",{className:"product-card__name",children:a})]}),Object(l.jsxs)("div",{className:"product-card__container",children:[Object(l.jsxs)("p",{className:"product-card__price",children:["$".concat(10*Math.round(s*(.1-n/1e3))-1),!!n&&Object(l.jsxs)(l.Fragment,{children:[" ",Object(l.jsx)("span",{className:"product-card__full-price",children:"$".concat(s-1)})]})]}),Object(l.jsx)("div",{className:"product-card__line"}),Object(l.jsxs)("div",{className:"product-card__text-box",children:[Object(l.jsx)("p",{className:"product-card__param-name",children:"Screen"}),Object(l.jsx)("p",{className:"product-card__param-value",children:r})]}),Object(l.jsxs)("div",{className:"product-card__text-box",children:[Object(l.jsx)("p",{className:"product-card__param-name",children:"Capacity"}),Object(l.jsx)("p",{className:"product-card__param-value",children:o})]}),Object(l.jsxs)("div",{className:"product-card__text-box",children:[Object(l.jsx)("p",{className:"product-card__param-name",children:"RAM"}),Object(l.jsx)("p",{className:"product-card__param-value",children:i})]}),Object(l.jsxs)("div",{className:"product-card__interaction-block",children:[Object(l.jsx)("button",{className:"product-card__cart-button",type:"button",children:"Add to cart"}),Object(l.jsx)("button",{className:"product-card__favourites-button",type:"button",children:Object(l.jsx)("div",{className:"product-card__favourites-icon"})})]})]})]})},L=function(){var e,t=Object(N.useState)([]),c=Object(v.a)(t,2),a=c[0],s=c[1],n=Object(N.useState)(0),r=Object(v.a)(n,2),o=r[0],i=r[1],j=Object(N.useState)(!1),u=Object(v.a)(j,2),d=u[0],b=u[1],_=Object(N.useState)(!1),p=Object(v.a)(_,2),m=p[0],O=p[1],h=Object(N.useRef)(),x=(null===(e=h.current)||void 0===e?void 0:e.clientWidth)||0,f=Object(N.useMemo)((function(){return(x+16)/4}),[x]);Object(N.useEffect)((function(){return w().then((function(e){return e.filter((function(e){return e.discount>0})).sort((function(e,t){return t.price*t.discount-e.price*e.discount}))})).then(s).catch((function(){return new Error("Loading products error")})),function(){return s(a)}}),[]),Object(N.useEffect)((function(){0===o?b(!0):(a.length-4)*f===-o?O(!0):(b(!1),O(!1))}),[o]);return Object(l.jsxs)("div",{className:"slider slider--first",children:[Object(l.jsxs)("div",{className:"slider__panel",children:[Object(l.jsx)("h2",{className:"slider__title",children:"Hot prices"}),Object(l.jsxs)("div",{className:"slider__buttons",children:[Object(l.jsx)("button",{className:"slider__button slider__button--left",type:"button","aria-label":"Left button",onClick:function(){i((function(e){return e+f}))},disabled:d}),Object(l.jsx)("button",{className:"slider__button slider__button--right",type:"button","aria-label":"Right button",onClick:function(){i((function(e){return e-f}))},disabled:m})]})]}),Object(l.jsx)("div",{className:"slider__track-container",ref:h,children:Object(l.jsx)("div",{className:"slider__track",style:{transform:"translate(".concat(o,"px)")},children:a.map((function(e){return Object(l.jsx)(E,{product:e},e.id)}))})})]})},R=function(){return C("_new/products.json")},M=function(){var e=Object(N.useState)(0),t=Object(v.a)(e,2),c=t[0],a=t[1],s=Object(N.useState)(0),r=Object(v.a)(s,2),o=r[0],i=r[1],j=Object(N.useState)(0),u=Object(v.a)(j,2),d=u[0],b=u[1];return Object(N.useEffect)((function(){return w().then((function(e){a(e.filter((function(e){return"tablet"===e.type})).length),i(e.filter((function(e){return"accessories"===e.type})).length)})).catch((function(){throw new Error("Loading product error")})),R().then((function(e){b(e.filter((function(e){return"phones"===e.category})).length)})).catch((function(){throw new Error("Loading product error")})),function(){a(0),i(0),b(0)}}),[]),Object(l.jsxs)("div",{className:"categories",children:[Object(l.jsx)("h2",{className:"categories__title",children:"Shop by category"}),Object(l.jsxs)("div",{className:"categories__container","data-cy":"categoryLinksContainer",children:[Object(l.jsxs)(n.b,{to:"/phones",className:"categories__link categories__link--1",children:[Object(l.jsx)("div",{className:"categories__image categories__image--1"}),Object(l.jsx)("p",{className:"categories__category",children:"Mobile phones"}),Object(l.jsx)("p",{className:"categories__count",children:"".concat(d," models")})]}),Object(l.jsxs)(n.b,{to:"/tablets",className:"categories__link categories__link--2",children:[Object(l.jsx)("div",{className:"categories__image categories__image--2"}),Object(l.jsx)("p",{className:"categories__category",children:"Tablets"}),Object(l.jsx)("p",{className:"categories__count",children:"".concat(c," models")})]}),Object(l.jsxs)(n.b,{to:"/accessories",className:"categories__link categories__link--3",children:[Object(l.jsx)("div",{className:"categories__image categories__image--3"}),Object(l.jsx)("p",{className:"categories__category",children:"Accessories"}),Object(l.jsx)("p",{className:"categories__count",children:"".concat(o," models")})]})]})]})},A=function(){var e,t=Object(N.useState)([]),c=Object(v.a)(t,2),a=c[0],s=c[1],n=Object(N.useState)(0),r=Object(v.a)(n,2),o=r[0],i=r[1],j=Object(N.useState)(!1),u=Object(v.a)(j,2),d=u[0],b=u[1],_=Object(N.useState)(!1),p=Object(v.a)(_,2),m=p[0],O=p[1],h=Object(N.useRef)(),x=(null===(e=h.current)||void 0===e?void 0:e.clientWidth)||0,f=Object(N.useMemo)((function(){return(x+16)/4}),[x]);Object(N.useEffect)((function(){return w().then((function(e){return e.filter((function(e){return 0===e.discount})).sort((function(e,t){return t.price-e.price}))})).then(s).catch((function(){return new Error("Loading products error")})),function(){return s([])}}),[]),Object(N.useEffect)((function(){0!==o?(a.length-4)*f!==-o?(b(!1),O(!1)):O(!0):b(!0)}),[o]);return Object(l.jsxs)("div",{className:"slider",children:[Object(l.jsxs)("div",{className:"slider__panel",children:[Object(l.jsx)("h2",{className:"slider__title",children:"Brands new models"}),Object(l.jsxs)("div",{className:"slider__buttons",children:[Object(l.jsx)("button",{className:"slider__button slider__button--left",type:"button","aria-label":"Left button",onClick:function(){i((function(e){return e+f}))},disabled:d}),Object(l.jsx)("button",{className:"slider__button slider__button--right",type:"button","aria-label":"Right button",onClick:function(){i((function(e){return e-f}))},disabled:m})]})]}),Object(l.jsx)("div",{className:"slider__track-container",ref:h,children:Object(l.jsx)("div",{className:"slider__track",style:{transform:"translate(".concat(o,"px)")},children:a.map((function(e){return Object(l.jsx)(E,{product:e},e.id)}))})})]})},P=function(){return Object(l.jsxs)("main",{className:"home page__main-container",children:[Object(l.jsx)(S,{}),Object(l.jsx)(L,{}),Object(l.jsx)(M,{}),Object(l.jsx)(A,{})]})},B=function(e){var t=e.product,c=t.image,a=t.name,s=t.price,n=t.fullPrice,r=t.screen,o=t.capacity,i=t.ram;return Object(l.jsxs)("div",{className:"product-card","data-cy":"cardsContainer",children:[Object(l.jsxs)("div",{className:"product-card__container",children:[Object(l.jsx)("img",{src:"../".concat(c),alt:a,className:"product-card__image"}),Object(l.jsx)("p",{className:"product-card__name",children:a})]}),Object(l.jsxs)("div",{className:"product-card__container",children:[Object(l.jsxs)("p",{className:"product-card__price",children:["$".concat(10*Math.round(s/10)-1),s!==n&&Object(l.jsxs)(l.Fragment,{children:[" ",Object(l.jsx)("span",{className:"product-card__full-price",children:"$".concat(10*Math.round(n/10)-1)})]})]}),Object(l.jsx)("div",{className:"product-card__line"}),Object(l.jsxs)("div",{className:"product-card__text-box",children:[Object(l.jsx)("p",{className:"product-card__param-name",children:"Screen"}),Object(l.jsx)("p",{className:"product-card__param-value",children:r})]}),Object(l.jsxs)("div",{className:"product-card__text-box",children:[Object(l.jsx)("p",{className:"product-card__param-name",children:"Capacity"}),Object(l.jsx)("p",{className:"product-card__param-value",children:o})]}),Object(l.jsxs)("div",{className:"product-card__text-box",children:[Object(l.jsx)("p",{className:"product-card__param-name",children:"RAM"}),Object(l.jsx)("p",{className:"product-card__param-value",children:i})]}),Object(l.jsxs)("div",{className:"product-card__interaction-block",children:[Object(l.jsx)("button",{className:"product-card__cart-button",type:"button",children:"Add to cart"}),Object(l.jsx)("button",{className:"product-card__favourites-button",type:"button",children:Object(l.jsx)("div",{className:"product-card__favourites-icon"})})]})]})]})},F=function(e){var t=e.options,c=e.label,a=e.value,s=e.setOption,n=e.valueKey,r=e.handleOnClick,o=Object(N.useState)(!1),j=Object(v.a)(o,2),u=j[0],d=j[1];return Object(l.jsxs)("div",{className:"products-list__sort",children:[Object(l.jsx)("div",{className:"products-list__sort-by",children:c}),Object(l.jsxs)("button",{className:i()("products-list__selector",{"products-list__selector--active":u}),type:"button",onClick:function(){d(!u)},children:[a,Object(l.jsx)("img",{src:u?"../img/icons/chevron-arrow-up.svg":"../img/icons/chevron-arrow-down.svg",alt:"open options",className:"products-list__icon"})]}),u&&Object(l.jsx)("div",{className:"products-list__options-container",children:t.map((function(e){return Object(l.jsx)("button",{className:"products-list__option",type:"button",onClick:function(){r(e,s,n),d(!1)},children:e},e)}))})]})},I=function(e){var t=e.currentPage,c=e.pagesCount,a=e.onClick;return Object(l.jsx)("div",{className:"pagination",children:Object(l.jsxs)("div",{className:"pagination__container",children:[Object(l.jsx)("button",{className:"pagination__button pagination__button--left","data-cy":"paginationLeft","aria-label":"Button left",type:"button",onClick:a((+t-1).toString()),disabled:1===+t}),function(e){for(var c=[],s=1;s<=e;s+=1)c.push(s);return c.map((function(e){return Object(l.jsx)("button",{className:i()("pagination__button",{"pagination__button--active":+t===e}),type:"button",onClick:a(e.toString()),children:e},e)}))}(c),Object(l.jsx)("button",{className:"pagination__button pagination__button--right","data-cy":"paginationRight","aria-label":"Button right",type:"button",onClick:a((+t+1).toString()),disabled:+t===c})]})})},T=["Newest","Alphabetically","Cheapest"],U=["4","8","16","all"],$=["age","name","price"],K=["Sort by","Items on page"],J=["sort","perPage","page"],W=function(e){var t=e.products,c=Object(N.useState)("age"),a=Object(v.a)(c,2),s=a[0],r=a[1],o=Object(N.useState)("16"),i=Object(v.a)(o,2),j=i[0],u=i[1],d=Object(N.useState)(1),b=Object(v.a)(d,2),_=b[0],p=b[1],m=Object(N.useState)("1"),O=Object(v.a)(m,2),h=O[0],x=O[1],f=Object(n.d)(),g=Object(v.a)(f,2),y=g[0],k=g[1],S=Object(N.useState)(t),C=Object(v.a)(S,2),w=C[0],E=C[1];Object(N.useEffect)((function(){var e=new URLSearchParams(y);r(e.get(J[0])||s),u(e.get(J[1])||j),x(e.get(J[2])||h),k(e)}),[]),Object(N.useEffect)((function(){p("all"===j?1:Math.ceil(((null===t||void 0===t?void 0:t.length)||0)/+j))}),[j,y]),Object(N.useEffect)((function(){var e=null===t||void 0===t?void 0:t.sort((function(e,t){switch(s){case"name":return e.name.localeCompare(t.name);case"age":return t.year-e.year;case"price":return e.price-t.price;default:throw new Error("Sort error")}})),c="all"===j?e||null:(null===e||void 0===e?void 0:e.slice((+h-1)*+j,+h*+j))||null;E(c)}),[s,j,h,t]);var L=function(e,t,c){var a=new URLSearchParams(y),s="sort"===c?$[T.indexOf(e)]:e;t(s),a.set(c,s),x("1"),k(a)};return Object(l.jsxs)("div",{className:"products-list","data-cy":"productList",children:[Object(l.jsxs)("div",{className:"products-list__sort-form",children:[Object(l.jsx)(F,{options:T,label:K[0],value:T[$.indexOf(s)],setOption:r,valueKey:J[0],handleOnClick:L}),Object(l.jsx)(F,{options:U,label:K[1],value:j,setOption:u,valueKey:J[1],handleOnClick:L})]}),Object(l.jsx)("div",{className:"products-list__container",children:null===w||void 0===w?void 0:w.map((function(e){return Object(l.jsx)(B,{product:e},e.id)}))}),_>1&&Object(l.jsx)(I,{currentPage:h,pagesCount:_,onClick:function(e){return function(){var t=new URLSearchParams(y);x(e),t.set("page",e),k(t)}}})]})},H=function(){return Object(l.jsx)("div",{className:"loader",children:Object(l.jsx)("div",{className:"loader__spiner"})})},q=function(){var e=Object(N.useState)(null),t=Object(v.a)(e,2),c=t[0],a=t[1],s=Object(N.useState)(!1),n=Object(v.a)(s,2),r=n[0],o=n[1];return Object(N.useEffect)((function(){o(!0),R().then((function(e){a(e.filter((function(e){return"phones"===e.category})))})).catch((function(){throw new Error("Loading phones error")})).finally((function(){return o(!1)}))}),[]),Object(l.jsx)("div",{className:"phones page__phones",children:r?Object(l.jsx)(H,{}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{className:"phones__title",children:"Mobile phones"}),Object(l.jsx)("p",{className:"phones__count",children:"".concat(null===c||void 0===c?void 0:c.length," models")}),Object(l.jsx)(W,{products:c})]})})},z=function(){return Object(l.jsx)("div",{className:"tablets"})},D=function(){return Object(l.jsx)("div",{className:"accessories"})},G=function(){return Object(l.jsx)(n.a,{children:Object(l.jsx)(r.d,{children:Object(l.jsxs)(r.b,{path:"/",element:Object(l.jsx)(f,{}),children:[Object(l.jsx)(r.b,{index:!0,element:Object(l.jsx)(P,{})}),Object(l.jsx)(r.b,{path:"phones",element:Object(l.jsx)(q,{})}),Object(l.jsx)(r.b,{path:"tablets",element:Object(l.jsx)(z,{})}),Object(l.jsx)(r.b,{path:"accessories",element:Object(l.jsx)(D,{})})]})})})};s.a.render(Object(l.jsx)(G,{}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.83ebaab9.chunk.js.map