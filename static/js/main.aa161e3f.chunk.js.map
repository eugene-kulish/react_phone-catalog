{"version":3,"sources":["types/HeaderButtonIcon.ts","components/Nav/Nav.tsx","components/Logo/Logo.tsx","contexts/CartStorageContext.ts","contexts/FavouritesStorageContext.ts","components/HeaderButton/HeaderButton.tsx","components/Search/Search.tsx","components/Header/Header.tsx","components/FooterButton/FooterButton.tsx","components/FooterLogo/FooterLogo.tsx","components/FooterNav/FooterNav.tsx","components/Footer/Footer.tsx","contexts/HandleCartStorageContext.ts","contexts/HandleFavouritesStorageContext.ts","App.tsx","components/Photos/Photos.tsx","functions/getProducts.ts","functions/getPhones.ts","functions/addToCartStorage.ts","functions/removeFromCartStorage.ts","functions/addToFavouritesStorage.ts","functions/removeFromFavouritesStorage.ts","components/PhoneCard/PhoneCard.tsx","components/SliderContent/SliderContent.tsx","components/ProductsSlider/ProductsSlider.tsx","functions/getHotPriceProducts.ts","components/Catagories/Categories.tsx","components/NewBrands/NewBrands.tsx","functions/getBrandNewProducts.ts","pages/HomePage/HomePage.tsx","components/Selector/Selector.tsx","components/Pagination/Pagination.tsx","components/List/List.tsx","components/Loader/Loader.tsx","components/NoResults/NoResults.tsx","components/Breadcrumbs/Breadcrumbs.tsx","functions/capitalizedLetter.ts","components/NoSearchResults/NoSearchResults.tsx","components/Content/Content.tsx","pages/PhonesPage/PhonesPage.tsx","pages/TabletsPage/TabletsPage.tsx","pages/AccessoriesPage/AccessoriesPage.tsx","functions/getSuggestedProducts.ts","components/Like/Like.tsx","components/BackButton/BackButton.tsx","services/colors.ts","pages/PhoneDetailsPage/PhoneDetailsPage.tsx","functions/getProductInfo.ts","pages/CartPage/CartPage.tsx","pages/FavouritesPage/FavouritesPage.tsx","pages/NotFoundPage/NotFoundPage.tsx","Root.tsx","index.tsx"],"names":["HeaderButtonIcon","returnClass","isActive","cn","Nav","className","to","Logo","src","alt","CartStorageContext","createContext","FavouritesStorageContext","returnClassName","classNames","HeaderButton","type","useState","totalQuantity","setTotalQuantity","cartStorage","useContext","favouritesStorage","useEffect","count","Favourites","length","reduce","total","quantity","Search","useSearchParams","searchParams","setSearchParams","location","useLocation","query","get","isSearch","pathname","placeholder","slice","onChange","event","params","URLSearchParams","set","target","value","delete","onClick","Header","isCartPage","Cart","FooterButton","window","scrollTo","top","FooterLogo","FooterNav","href","rel","Footer","HandleCartStorageContext","HandleFavouritesStorageContext","App","setCartStorage","setFavouritesStorage","JSON","parse","localStorage","getItem","Provider","dotsId","photos","map","url","Photos","currentPhotoIndex","setCurrentPhotoIndex","isDisabled","setIsDisabled","timeout","setTimeout","clearTimeout","onRightClick","currentIndex","interval","setInterval","clearInterval","disabled","photo","photoIndex","newPosition","props","id","request","delay","Promise","resolve","then","fetch","response","ok","Error","json","getPhones","addToCartStorage","product","setIsAddedToCart","storage","push","setItem","stringify","removeFromCartStorage","index","findIndex","splice","addToFavouritesStorage","setIsAddedToFavourites","removeFromFavouritesStorage","PhoneCard","isAddedToCart","isAddedToFavourites","image","name","price","fullPrice","screen","capacity","ram","phoneId","some","Math","round","SliderContent","title","onLeftClick","isLeftButtonDisabled","isRightButtonDisabled","reference","translate","products","ref","style","transform","ProductsSlider","setProducts","setTranslate","setIsLeftButtonDisabled","setIsRightButtonDisabled","useRef","blockWidth","current","clientWidth","elementWidth","useMemo","sort","product1","product2","catch","currentTranslate","Categories","tabletsCount","setTabletsCount","accessoriesCount","setAccessoriesCount","phonesCount","setPhonesCount","filter","category","NewBrands","year","HomePage","Selector","options","label","setOption","valueKey","handleOnClick","areOptionsOpen","setAreOptionsOpen","option","Pagination","currentPage","pagesCount","toString","pages","i","page","returnButtons","sortLabels","pageValues","sortValues","labels","valuesKeys","List","sortedBy","setSortedBy","perPage","setPerPage","setPagesCount","setCurrentPage","visibleProducts","setVisibleProducts","ceil","sorted","localeCompare","filtered","param","indexOf","listPage","Loader","NoResults","Breadcrumbs","split","pageName","string","toUpperCase","NoSearchResults","Content","isLoading","isNoSearchResults","PhonesPage","phones","setPhones","visiblePhones","setVisiblePhones","setIsLoading","setIsNoSearchResults","join","finally","filteredProducts","trim","toLowerCase","includes","TabletsPage","tablets","setTablets","visibleTablets","setVisibleTablets","AccessoriesPage","accessories","setAccessories","visibleAccessories","setVisibleAccessories","returnRandomList","resultRandomList","max","getRandomProduct","floor","random","randomProduct","Like","BackButton","history","back","colors","black","rosegold","gold","silver","spacegray","green","yellow","white","purple","red","midnightgreen","coral","PhoneDetailsPage","phoneInfo","setPhoneInfo","currentImage","setCurrentImage","currentCapacity","setCurrentCapacity","currentColor","setCurrentColor","phone","setPhone","isError","setIsError","productId","useParams","find","desiredPhone","specs","at","getPhoneInfo","currentPhone","images","handleCurrentImage","link","colorsAvailable","color","backgroundColor","capacityAvailable","priceDiscount","priceRegular","resolution","processor","description","text","camera","zoom","cell","CartPage","totalPrice","setTotalPrice","isMessage","setIsMessage","getMessage","useCallback","changeQuantity","operator","newQuantity","newProductQuantityInfo","FavouritesPage","visibleFavourites","setVisibleFavourites","NotFoundPage","Root","path","element","replace","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.aa161e3f.chunk.js","sourcesContent":["export enum HeaderButtonIcon {\n  Cart = 'cart',\n  Favourites = 'favourites',\n}\n","import { NavLink } from 'react-router-dom';\nimport cn from 'classnames';\n\nconst returnClass = ({ isActive }: { isActive: boolean }) => cn(\n  'nav__link',\n  { 'nav__link--active': isActive },\n);\n\nexport const Nav = () => (\n  <nav className=\"nav\">\n    <ul className=\"nav__list\">\n      <li className=\"nav__item\">\n        <NavLink to=\"/\" className={returnClass}>\n          home\n        </NavLink>\n      </li>\n\n      <li className=\"nav__item\">\n        <NavLink to=\"/phones\" className={returnClass}>\n          phones\n        </NavLink>\n      </li>\n\n      <li className=\"nav__item\">\n        <NavLink to=\"/tablets\" className={returnClass}>\n          tablets\n        </NavLink>\n      </li>\n\n      <li className=\"nav__item\">\n        <NavLink to=\"/accessories\" className={returnClass}>\n          accessories\n        </NavLink>\n      </li>\n    </ul>\n  </nav>\n);\n","import { Link } from 'react-router-dom';\n\nexport const Logo = () => (\n  <Link to=\"/\" className=\"logo header__logo\">\n    <img\n      src=\"./img/logo/logo.svg\"\n      alt=\"Logo\"\n      className=\"logo__image\"\n    />\n  </Link>\n);\n","import { createContext } from 'react';\n\nimport { CartType } from '../types/CartType';\n\nexport const CartStorageContext = createContext<CartType[]>([]);\n","import { createContext } from 'react';\n\nimport { Phone } from '../types/Phone';\n\nexport const FavouritesStorageContext = createContext<Phone[]>([]);\n","import React, { useContext, useEffect, useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport classNames from 'classnames';\n\nimport { HeaderButtonIcon } from '../../types/HeaderButtonIcon';\n\nimport { CartStorageContext } from '../../contexts/CartStorageContext';\nimport {\n  FavouritesStorageContext,\n} from '../../contexts/FavouritesStorageContext';\n\nconst returnClassName = ({ isActive }: { isActive: boolean }) => (\n  classNames(\n    'header-button header__button',\n    { 'haeder-button header__button header-button--active': isActive },\n  )\n);\n\ntype Props = {\n  type: HeaderButtonIcon;\n};\n\nexport const HeaderButton: React.FC<Props> = ({ type }) => {\n  const [totalQuantity, setTotalQuantity] = useState(0);\n\n  const cartStorage = useContext(CartStorageContext);\n  const favouritesStorage = useContext(FavouritesStorageContext);\n\n  useEffect(() => {\n    const count = (type === HeaderButtonIcon.Favourites)\n      ? favouritesStorage.length\n      : cartStorage.reduce(((\n        total: number,\n        { quantity }: { quantity: number },\n      ) => total + quantity), 0);\n\n    setTotalQuantity(count);\n  }, [cartStorage, favouritesStorage]);\n\n  return (\n    <NavLink to={`/${type}`} className={returnClassName}>\n      <div\n        className={classNames(\n          'header-button__icon',\n          `header-button__icon--${type}`,\n        )}\n      />\n\n      {!!totalQuantity && (\n        <p className=\"header-button__count\">\n          {totalQuantity}\n        </p>\n      )}\n    </NavLink>\n  );\n};\n","import { useLocation, useSearchParams } from 'react-router-dom';\nimport classNames from 'classnames';\n\nexport const Search = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const location = useLocation();\n\n  const query = searchParams.get('query') || '';\n\n  const isSearch = (location.pathname === '/favourites')\n    || (location.pathname === '/phones')\n    || (location.pathname === '/tablets')\n    || (location.pathname === '/accessories');\n\n  const handleQuery = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const params = new URLSearchParams(searchParams);\n\n    params.set('query', event.target.value);\n\n    if (!params.get('query')) {\n      params.delete('query');\n    }\n\n    setSearchParams(params);\n  };\n\n  const resetQuery = () => {\n    const params = new URLSearchParams(searchParams);\n\n    params.delete('query');\n  };\n\n  return (\n    <div\n      className={classNames(\n        'search',\n        { 'search--is': isSearch },\n      )}\n    >\n      <input\n        type=\"text\"\n        className={classNames(\n          'search__input',\n          { 'search__input--active': query },\n        )}\n        placeholder={`Search in ${location.pathname.slice(1)}...`}\n        onChange={handleQuery}\n        value={query}\n      />\n\n      {query ? (\n        <button\n          type=\"button\"\n          className={classNames(\n            'search__icon',\n            { 'search__icon--active': query },\n          )}\n          aria-label=\"Close\"\n          onClick={resetQuery}\n        />\n      ) : (\n        <div className=\"search__icon\" />\n      )}\n    </div>\n  );\n};\n","import { useLocation } from 'react-router-dom';\n\nimport { Nav } from '../Nav';\nimport { Logo } from '../Logo';\nimport { HeaderButton } from '../HeaderButton';\nimport { Search } from '../Search';\n\nimport { HeaderButtonIcon } from '../../types/HeaderButtonIcon';\n\nexport const Header = () => {\n  const location = useLocation();\n\n  const isCartPage = location.pathname === '/cart';\n\n  return (\n    <header className=\"header\">\n      <div className=\"header__nav-container\">\n        <Logo />\n\n        {!isCartPage && (\n          <Nav />\n        )}\n      </div>\n\n      <div className=\"header__button-container\">\n        <Search />\n\n        {!isCartPage && (\n          <HeaderButton type={HeaderButtonIcon.Favourites} />\n        )}\n\n        <HeaderButton type={HeaderButtonIcon.Cart} />\n      </div>\n    </header>\n  );\n};\n","export const FooterButton = () => {\n  const scrollUp = () => {\n    window.scrollTo({ top: 0 });\n  };\n\n  return (\n    <button\n      type=\"button\"\n      className=\"footer-button\"\n      onClick={scrollUp}\n    >\n      Back to top\n\n      <div className=\"footer-button__icon\" />\n    </button>\n  );\n};\n","import { Link } from 'react-router-dom';\n\nexport const FooterLogo = () => (\n  <Link to=\"/\" className=\"logo\">\n    <img src=\"./img/logo/logo.svg\" alt=\"\" className=\"logo__image\" />\n  </Link>\n);\n","export const FooterNav = () => (\n  <nav className=\"nav footer__nav\">\n    <ul className=\"nav__list\">\n      <li className=\"nav__item\">\n        <a\n          href=\"https://github.com/mate-academy/react_phone-catalog\"\n          target=\"_blank\"\n          className=\"nav__link\"\n          rel=\"noreferrer\"\n        >\n          github\n        </a>\n      </li>\n\n      <li className=\"nav__item\">\n        <a\n          href=\"tel:+380932881881\"\n          target=\"_blank\"\n          className=\"nav__link\"\n          rel=\"noreferrer\"\n        >\n          contacts\n        </a>\n      </li>\n\n      <li className=\"nav__item\">\n        <a\n          href=\"https://mate.academy\"\n          target=\"_blank\"\n          className=\"nav__link\"\n          rel=\"noreferrer\"\n        >\n          rights\n        </a>\n      </li>\n    </ul>\n  </nav>\n);\n","import { FooterButton } from '../FooterButton';\nimport { FooterLogo } from '../FooterLogo';\nimport { FooterNav } from '../FooterNav';\n\nexport const Footer = () => {\n  return (\n    <footer className=\"footer\">\n      <div className=\"footer__container\">\n        <FooterLogo />\n\n        <FooterNav />\n\n        <FooterButton />\n      </div>\n    </footer>\n  );\n};\n","import { createContext } from 'react';\n\nimport { CartType } from '../types/CartType';\n\nexport const HandleCartStorageContext = (\n  createContext<React.Dispatch<React.SetStateAction<CartType[]>>>(() => {})\n);\n","import { createContext } from 'react';\n\nimport { Phone } from '../types/Phone';\n\nexport const HandleFavouritesStorageContext = (\n  createContext<React.Dispatch<React.SetStateAction<Phone[]>>>(() => {})\n);\n","import { useEffect, useState } from 'react';\nimport { Outlet } from 'react-router-dom';\n\nimport './App.scss';\n\nimport { Header } from './components/Header';\nimport { Footer } from './components/Footer';\n\nimport { CartType } from './types/CartType';\nimport { Phone } from './types/Phone';\n\nimport { HandleCartStorageContext } from './contexts/HandleCartStorageContext';\nimport { CartStorageContext } from './contexts/CartStorageContext';\nimport { FavouritesStorageContext } from './contexts/FavouritesStorageContext';\nimport {\n  HandleFavouritesStorageContext,\n} from './contexts/HandleFavouritesStorageContext';\n\nconst App = () => {\n  const [cartStorage, setCartStorage] = useState<CartType[]>([]);\n  const [favouritesStorage, setFavouritesStorage] = useState<Phone[]>([]);\n\n  useEffect(() => {\n    setCartStorage(JSON.parse(localStorage.getItem('cart') || '[]'));\n    setFavouritesStorage(JSON.parse(\n      localStorage.getItem('favourites') || '[]',\n    ));\n  }, []);\n\n  return (\n    <div className=\"page\">\n      <HandleFavouritesStorageContext.Provider value={setFavouritesStorage}>\n        <FavouritesStorageContext.Provider value={favouritesStorage}>\n          <HandleCartStorageContext.Provider value={setCartStorage}>\n            <CartStorageContext.Provider value={cartStorage}>\n              <Header />\n\n              <Outlet />\n            </CartStorageContext.Provider>\n          </HandleCartStorageContext.Provider>\n        </FavouritesStorageContext.Provider>\n      </HandleFavouritesStorageContext.Provider>\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default App;\n","import { useEffect, useState } from 'react';\nimport cn from 'classnames';\n\nconst dotsId = [0, 1, 2];\n\nconst photos = [\n  './img/photos/banner-phones.png',\n  './img/photos/banner-tablets.png',\n  './img/photos/banner-accessories.png',\n].map((url) => {\n  return (\n    <img\n      className=\"photos__photo\"\n      src={url}\n      alt=\"Accessories\"\n      key={url}\n    />\n  );\n});\n\nconst duration = 1000;\n\nexport const Photos = () => {\n  const [currentPhotoIndex, setCurrentPhotoIndex] = useState(0);\n  const [isDisabled, setIsDisabled] = useState(false);\n\n  useEffect(() => {\n    if (currentPhotoIndex < 0) {\n      setCurrentPhotoIndex(photos.length - 1);\n    }\n\n    if (currentPhotoIndex > photos.length - 1) {\n      setCurrentPhotoIndex(0);\n    }\n\n    setIsDisabled(true);\n\n    const timeout = setTimeout(() => {\n      setIsDisabled(false);\n    }, duration);\n\n    return () => clearTimeout(timeout);\n  }, [currentPhotoIndex]);\n\n  const onLeftClick = () => {\n    setCurrentPhotoIndex(currentIndex => currentIndex - 1);\n  };\n\n  const onRightClick = () => {\n    setCurrentPhotoIndex(currentIndex => currentIndex + 1);\n  };\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      onRightClick();\n    }, 5000);\n\n    return () => clearInterval(interval);\n  }, [currentPhotoIndex]);\n\n  return (\n    <div className=\"photos\">\n      <div className=\"photos__container\">\n        <button\n          className={cn(\n            'photos__button photos__button--left',\n          )}\n          type=\"button\"\n          aria-label=\"Left button\"\n          onClick={onLeftClick}\n          disabled={isDisabled}\n        />\n\n        <div className=\"photos__slider-track\">\n          {photos.map((photo, photoIndex) => {\n            const newPosition = { ...photo };\n\n            newPosition.props = {\n              ...newPosition.props,\n              className: 'photos__photo photos__photo--next',\n            };\n\n            if (photoIndex === currentPhotoIndex) {\n              newPosition.props = {\n                ...newPosition.props,\n                className: 'photos__photo photos__photo--current',\n              };\n            }\n\n            if (photoIndex === currentPhotoIndex - 1 || (\n              currentPhotoIndex === 0 && photoIndex === photos.length - 1\n            )) {\n              newPosition.props = {\n                ...newPosition.props,\n                className: 'photos__photo photos__photo--prev',\n              };\n            }\n\n            return newPosition;\n          })}\n        </div>\n\n        <button\n          className={cn(\n            'photos__button photos__button--right',\n          )}\n          type=\"button\"\n          aria-label=\"Right button\"\n          onClick={onRightClick}\n          disabled={isDisabled}\n        />\n      </div>\n\n      <div className=\"photos__dots\">\n        {dotsId.map(id => (\n          <div\n            key={id}\n            className={cn('photos__dot', {\n              'photos__dot--active': id === currentPhotoIndex,\n            })}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n","const apiUrl = 'https://mate-academy.github.io/react_phone-catalog/';\n\nconst wait = (delay: number) => {\n  return new Promise(resolve => {\n    setTimeout(resolve, delay);\n  });\n};\n\nexport const request = (url: string) => {\n  return wait(500)\n    .then(() => fetch(apiUrl + url))\n    .then(response => {\n      if (!response.ok) {\n        throw new Error();\n      }\n\n      return response.json();\n    });\n};\n","import { request } from './getProducts';\n\nexport const getPhones = () => {\n  return request('_new/products.json');\n};\n","import { CartType } from '../types/CartType';\nimport { Phone } from '../types/Phone';\n\nexport const addToCartStorage = (\n  product: Phone | null,\n  setIsAddedToCart: React.Dispatch<React.SetStateAction<boolean>>,\n  setCartStorage: React.Dispatch<React.SetStateAction<CartType[]>>,\n) => () => {\n  const storage = JSON.parse(localStorage.getItem('cart') || '[]');\n\n  storage.push({\n    id: product?.id,\n    quantity: 1,\n    product,\n  });\n\n  setIsAddedToCart(true);\n\n  localStorage.setItem('cart', JSON.stringify(storage));\n\n  setCartStorage(storage);\n};\n","import { CartType } from '../types/CartType';\nimport { Phone } from '../types/Phone';\n\nexport const removeFromCartStorage = (\n  product: Phone | null,\n  setCartStorage: React.Dispatch<React.SetStateAction<CartType[]>>,\n  setIsAddedToCart?: React.Dispatch<React.SetStateAction<boolean>>,\n) => () => {\n  const storage = JSON.parse(localStorage.getItem('cart') || '[]');\n\n  const index = storage.findIndex(({ id }: { id: string }) => (\n    product?.id === id\n  ));\n\n  storage.splice(index, 1);\n\n  if (setIsAddedToCart) {\n    setIsAddedToCart(false);\n  }\n\n  localStorage.setItem('cart', JSON.stringify(storage));\n\n  setCartStorage(storage);\n};\n","import { Phone } from '../types/Phone';\n\nexport const addToFavouritesStorage = (\n  product: Phone | null,\n  setFavouritesStorage: React.Dispatch<React.SetStateAction<Phone[]>>,\n  setIsAddedToFavourites: React.Dispatch<React.SetStateAction<boolean>>,\n) => () => {\n  const storage = JSON.parse(localStorage.getItem('favourites') || '[]');\n\n  storage.push(product);\n\n  setIsAddedToFavourites(true);\n\n  localStorage.setItem('favourites', JSON.stringify(storage));\n\n  setFavouritesStorage(storage);\n};\n","import { Phone } from '../types/Phone';\n\nexport const removeFromFavouritesStorage = (\n  product: Phone | null,\n  setFavouritesStorage: React.Dispatch<React.SetStateAction<Phone[]>>,\n  setIsAddedToFavourites: React.Dispatch<React.SetStateAction<boolean>>,\n) => () => {\n  const storage = JSON.parse(localStorage.getItem('favourites') || '[]');\n\n  const index = storage.findIndex(({ id }: { id: string }) => (\n    product?.id === id\n  ));\n\n  storage.splice(index, 1);\n\n  setIsAddedToFavourites(false);\n\n  localStorage.setItem('favourites', JSON.stringify(storage));\n\n  setFavouritesStorage(storage);\n};\n","import React, { useState, useEffect, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport classNames from 'classnames';\n\nimport { addToCartStorage } from '../../functions/addToCartStorage';\nimport { removeFromCartStorage } from '../../functions/removeFromCartStorage';\nimport { addToFavouritesStorage } from '../../functions/addToFavouritesStorage';\nimport {\n  removeFromFavouritesStorage,\n} from '../../functions/removeFromFavouritesStorage';\n\nimport { Phone } from '../../types/Phone';\n\nimport { CartStorageContext } from '../../contexts/CartStorageContext';\nimport {\n  FavouritesStorageContext,\n} from '../../contexts/FavouritesStorageContext';\nimport {\n  HandleFavouritesStorageContext,\n} from '../../contexts/HandleFavouritesStorageContext';\nimport {\n  HandleCartStorageContext,\n} from '../../contexts/HandleCartStorageContext';\n\ntype Props = {\n  product: Phone;\n};\n\nexport const PhoneCard: React.FC<Props> = ({ product }) => {\n  const [isAddedToCart, setIsAddedToCart] = useState(false);\n  const [isAddedToFavourites, setIsAddedToFavourites] = useState(false);\n\n  const cartStorage = useContext(CartStorageContext);\n  const favouritesStorage = useContext(FavouritesStorageContext);\n  const setFavouritesStorage = useContext(HandleFavouritesStorageContext);\n  const setCartStorage = useContext(HandleCartStorageContext);\n\n  const {\n    image,\n    name,\n    price,\n    fullPrice,\n    screen,\n    capacity,\n    ram,\n    phoneId,\n  } = product;\n\n  useEffect(() => {\n    setIsAddedToCart(cartStorage.some((\n      { id }: { id: string },\n    ) => id === product.id));\n\n    setIsAddedToFavourites(favouritesStorage.some((\n      { id }: { id: string },\n    ) => id === product.id));\n  }, []);\n\n  return (\n    <div\n      className=\"product-card\"\n      data-cy=\"cardsContainer\"\n    >\n      <Link\n        to={`/phones/${phoneId}`}\n        className=\"product-card__container\"\n      >\n        <img\n          src={`./${image}`}\n          alt={name}\n          className=\"product-card__image\"\n        />\n\n        <p className=\"product-card__name\">\n          {name}\n        </p>\n      </Link>\n\n      <div className=\"product-card__container\">\n        <p className=\"product-card__price\">\n          {`$${Math.round(price / 10) * 10 - 1}`}\n\n          {price !== fullPrice && (\n            <>\n              {' '}\n\n              <span className=\"product-card__full-price\">\n                {`$${Math.round(fullPrice / 10) * 10 - 1}`}\n              </span>\n            </>\n          )}\n        </p>\n\n        <div className=\"product-card__line\" />\n\n        <div className=\"product-card__text-box\">\n          <p className=\"product-card__param-name\">\n            Screen\n          </p>\n\n          <p className=\"product-card__param-value\">\n            {screen}\n          </p>\n        </div>\n\n        <div className=\"product-card__text-box\">\n          <p className=\"product-card__param-name\">\n            Capacity\n          </p>\n\n          <p className=\"product-card__param-value\">\n            {capacity}\n          </p>\n        </div>\n\n        <div className=\"product-card__text-box\">\n          <p className=\"product-card__param-name\">\n            RAM\n          </p>\n\n          <p className=\"product-card__param-value\">\n            {ram}\n          </p>\n        </div>\n\n        <div className=\"product-card__interaction-block\">\n          {isAddedToCart ? (\n            <button\n              className={classNames(\n                'product-card__cart-button',\n                'product-card__cart-button--added',\n              )}\n              type=\"button\"\n              onClick={removeFromCartStorage(\n                product,\n                setCartStorage,\n                setIsAddedToCart,\n              )}\n            >\n              Added to cart\n            </button>\n          ) : (\n            <button\n              className=\"product-card__cart-button\"\n              type=\"button\"\n              onClick={addToCartStorage(\n                product,\n                setIsAddedToCart,\n                setCartStorage,\n              )}\n            >\n              Add to cart\n            </button>\n          )}\n\n          <button\n            type=\"button\"\n            className=\"product-card__favourites-button\"\n            onClick={isAddedToFavourites\n              ? removeFromFavouritesStorage(\n                product,\n                setFavouritesStorage,\n                setIsAddedToFavourites,\n              )\n              : addToFavouritesStorage(\n                product,\n                setFavouritesStorage,\n                setIsAddedToFavourites,\n              )}\n          >\n            <div\n              className={classNames(\n                'product-card__favourites-icon',\n                {\n                  'product-card__favourites-icon--added': (\n                    isAddedToFavourites\n                  ),\n                },\n              )}\n            />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React, { RefObject } from 'react';\n\nimport { PhoneCard } from '../PhoneCard';\n\nimport { Phone } from '../../types/Phone';\n\ntype Props = {\n  title: string;\n  onLeftClick: () => void;\n  onRightClick: () => void;\n  isLeftButtonDisabled: boolean;\n  isRightButtonDisabled: boolean;\n  reference: RefObject<HTMLDivElement>;\n  translate: number;\n  products: Phone[];\n};\n\nexport const SliderContent: React.FC<Props> = ({\n  title,\n  onLeftClick,\n  onRightClick,\n  isLeftButtonDisabled,\n  isRightButtonDisabled,\n  reference,\n  translate,\n  products,\n}) => {\n  return (\n    <>\n      <div className=\"slider__panel\">\n        <h2 className=\"slider__title\">\n          {title}\n        </h2>\n\n        <div className=\"slider__buttons\">\n          <button\n            className=\"slider__button slider__button--left\"\n            type=\"button\"\n            aria-label=\"Left button\"\n            onClick={onLeftClick}\n            disabled={isLeftButtonDisabled}\n          />\n\n          <button\n            className=\"slider__button slider__button--right\"\n            type=\"button\"\n            aria-label=\"Right button\"\n            onClick={onRightClick}\n            disabled={isRightButtonDisabled}\n          />\n        </div>\n      </div>\n\n      <div\n        className=\"slider__track-container\"\n        ref={reference}\n      >\n        <div\n          className=\"slider__track\"\n          style={{ transform: `translate(${translate}px)` }}\n        >\n          {products.map(product => {\n            return (\n              <PhoneCard\n                product={product}\n                key={product.id}\n              />\n            );\n          })}\n        </div>\n      </div>\n    </>\n  );\n};\n","import {\n  RefObject,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\n\nimport { getHotPriceProducts } from '../../functions/getHotPriceProducts';\n\nimport { Phone } from '../../types/Phone';\n\nimport { SliderContent } from '../SliderContent';\n\nconst title = 'Hot prices';\n\nconst gap = 16;\n\nexport const ProductsSlider = () => {\n  const [products, setProducts] = useState<Phone[]>([]);\n  const [translate, setTranslate] = useState(0);\n  const [isLeftButtonDisabled, setIsLeftButtonDisabled] = useState(false);\n  const [isRightButtonDisabled, setIsRightButtonDisabled] = useState(false);\n\n  const ref = useRef() as RefObject<HTMLDivElement>;\n\n  const blockWidth = ref.current?.clientWidth || 0;\n\n  const elementWidth = useMemo(() => (blockWidth + gap) / 4, [blockWidth]);\n\n  useEffect(() => {\n    getHotPriceProducts()\n      .then(setProducts)\n      .catch(() => new Error('Loading products error'));\n\n    return () => setProducts(products);\n  }, []);\n\n  useEffect(() => {\n    if (translate === 0) {\n      setIsLeftButtonDisabled(true);\n    } else if ((products.length - 4) * elementWidth === -translate) {\n      setIsRightButtonDisabled(true);\n    } else {\n      setIsLeftButtonDisabled(false);\n      setIsRightButtonDisabled(false);\n    }\n  }, [translate]);\n\n  const onLeftClick = () => {\n    setTranslate(currentTranslate => currentTranslate + elementWidth);\n  };\n\n  const onRightClick = () => {\n    setTranslate(currentTranslate => currentTranslate - elementWidth);\n  };\n\n  return (\n    <div className=\"slider slider--first\">\n      <SliderContent\n        title={title}\n        onLeftClick={onLeftClick}\n        onRightClick={onRightClick}\n        isLeftButtonDisabled={isLeftButtonDisabled}\n        isRightButtonDisabled={isRightButtonDisabled}\n        reference={ref}\n        translate={translate}\n        products={products}\n      />\n    </div>\n  );\n};\n","import { getPhones } from './getPhones';\n\nimport { Phone } from '../types/Phone';\n\nexport const getHotPriceProducts = () => {\n  return getPhones()\n    .then((products: Phone[]) => products\n      .sort((product1, product2) => (\n        product2.fullPrice - product1.fullPrice\n          + product1.price - product2.price\n      ))\n      .slice(0, 12));\n};\n","import { Link } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\n\nimport { getPhones } from '../../functions/getPhones';\n\nimport { Phone } from '../../types/Phone';\n\nexport const Categories = () => {\n  const [tabletsCount, setTabletsCount] = useState(0);\n  const [accessoriesCount, setAccessoriesCount] = useState(0);\n  const [phonesCount, setPhonesCount] = useState(0);\n\n  useEffect(() => {\n    getPhones()\n      .then((products: Phone[]) => {\n        setPhonesCount(products.filter(\n          product => product.category === 'phones',\n        ).length);\n      })\n      .catch(() => {\n        throw new Error('Loading product error');\n      });\n\n    return () => {\n      setTabletsCount(0);\n      setAccessoriesCount(0);\n      setPhonesCount(0);\n    };\n  }, []);\n\n  return (\n    <div className=\"categories\">\n      <h2 className=\"categories__title\">\n        Shop by category\n      </h2>\n\n      <div\n        className=\"categories__container\"\n        data-cy=\"categoryLinksContainer\"\n      >\n        <Link\n          to=\"/phones\"\n          className=\"categories__link categories__link--1\"\n        >\n          <div className=\"categories__image categories__image--1\" />\n\n          <p className=\"categories__category\">\n            Mobile phones\n          </p>\n\n          <p className=\"categories__count\">\n            {`${phonesCount} models`}\n          </p>\n        </Link>\n\n        <Link\n          to=\"/tablets\"\n          className=\"categories__link categories__link--2\"\n        >\n          <div className=\"categories__image categories__image--2\" />\n\n          <p className=\"categories__category\">\n            Tablets\n          </p>\n\n          <p className=\"categories__count\">\n            {`${tabletsCount} models`}\n          </p>\n        </Link>\n\n        <Link\n          to=\"/accessories\"\n          className=\"categories__link categories__link--3\"\n        >\n          <div className=\"categories__image categories__image--3\" />\n\n          <p className=\"categories__category\">\n            Accessories\n          </p>\n\n          <p className=\"categories__count\">\n            {`${accessoriesCount} models`}\n          </p>\n        </Link>\n      </div>\n    </div>\n  );\n};\n","import {\n  RefObject,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\n\nimport { Phone } from '../../types/Phone';\n\nimport { getBrandNewProducts } from '../../functions/getBrandNewProducts';\n\nimport { SliderContent } from '../SliderContent';\n\nconst title = 'Brands new models';\n\nconst gap = 16;\n\nexport const NewBrands = () => {\n  const [products, setProducts] = useState<Phone[]>([]);\n  const [translate, setTranslate] = useState(0);\n  const [isLeftButtonDisabled, setIsLeftButtonDisabled] = useState(false);\n  const [isRightButtonDisabled, setIsRightButtonDisabled] = useState(false);\n\n  const ref = useRef() as RefObject<HTMLDivElement>;\n\n  const blockWidth = ref.current?.clientWidth || 0;\n\n  const elementWidth = useMemo(() => (blockWidth + gap) / 4, [blockWidth]);\n\n  useEffect(() => {\n    getBrandNewProducts()\n      .then(setProducts)\n      .catch(() => new Error('Loading products error'));\n\n    return () => setProducts([]);\n  }, []);\n\n  useEffect(() => {\n    if (translate === 0) {\n      setIsLeftButtonDisabled(true);\n\n      return;\n    }\n\n    if ((products.length - 4) * elementWidth === -translate) {\n      setIsRightButtonDisabled(true);\n\n      return;\n    }\n\n    setIsLeftButtonDisabled(false);\n    setIsRightButtonDisabled(false);\n  }, [translate]);\n\n  const onLeftClick = () => {\n    setTranslate(currentTranslate => currentTranslate + elementWidth);\n  };\n\n  const onRightClick = () => {\n    setTranslate(currentTranslate => currentTranslate - elementWidth);\n  };\n\n  return (\n    <div className=\"slider\">\n      <SliderContent\n        title={title}\n        onLeftClick={onLeftClick}\n        onRightClick={onRightClick}\n        isLeftButtonDisabled={isLeftButtonDisabled}\n        isRightButtonDisabled={isRightButtonDisabled}\n        reference={ref}\n        translate={translate}\n        products={products}\n      />\n    </div>\n  );\n};\n","import { getPhones } from './getPhones';\n\nimport { Phone } from '../types/Phone';\n\nexport const getBrandNewProducts = () => {\n  return getPhones()\n    .then((products: Phone[]) => products\n      .filter(product => product.year === 2019)\n      .sort((product1, product2) => (\n        product2.fullPrice - product1.fullPrice\n      ))\n      .slice(0, 12));\n};\n","import { useContext, useEffect } from 'react';\n\nimport { Photos } from '../../components/Photos';\nimport { ProductsSlider } from '../../components/ProductsSlider';\nimport { Categories } from '../../components/Catagories';\nimport { NewBrands } from '../../components/NewBrands';\n\nimport {\n  HandleCartStorageContext,\n} from '../../contexts/HandleCartStorageContext';\nimport {\n  HandleFavouritesStorageContext,\n} from '../../contexts/HandleFavouritesStorageContext';\n\nexport const HomePage = () => {\n  const setCartStorage = useContext(HandleCartStorageContext);\n  const setFavouritesStorage = useContext(HandleFavouritesStorageContext);\n\n  useEffect(() => {\n    setCartStorage(JSON.parse(localStorage.getItem('cart') || '[]'));\n    setFavouritesStorage(\n      JSON.parse(localStorage.getItem('favourites') || '[]'),\n    );\n  }, []);\n\n  return (\n    <main className=\"home page__main-container\">\n      <Photos />\n\n      <ProductsSlider />\n\n      <Categories />\n\n      <NewBrands />\n    </main>\n  );\n};\n","import React, { useState } from 'react';\nimport cn from 'classnames';\n\ntype Props = {\n  options: string[];\n  label: string;\n  value: string;\n  setOption: React.Dispatch<React.SetStateAction<string>>;\n  valueKey: string;\n  handleOnClick: (\n    option: string,\n    setOption: React.Dispatch<React.SetStateAction<string>>,\n    valueKey: string\n  ) => void;\n};\n\nexport const Selector: React.FC<Props> = ({\n  options,\n  label,\n  value,\n  setOption,\n  valueKey,\n  handleOnClick,\n}) => {\n  const [areOptionsOpen, setAreOptionsOpen] = useState(false);\n\n  const handleOnFocus = () => {\n    setAreOptionsOpen(!areOptionsOpen);\n  };\n\n  return (\n    <div className=\"products-list__sort\">\n      <div className=\"products-list__sort-by\">\n        {label}\n      </div>\n\n      <button\n        className={cn(\n          'products-list__selector',\n          { 'products-list__selector--active': areOptionsOpen },\n        )}\n        type=\"button\"\n        onClick={handleOnFocus}\n      >\n        {value}\n\n        <div\n          className={cn(\n            'products-list__icon',\n            { 'products-list__icon--active': areOptionsOpen },\n          )}\n        />\n      </button>\n\n      {areOptionsOpen && (\n        <div className=\"products-list__options-container\">\n          {options.map(option => (\n            <button\n              className=\"products-list__option\"\n              type=\"button\"\n              key={option}\n              onClick={() => {\n                handleOnClick(option, setOption, valueKey);\n                setAreOptionsOpen(false);\n              }}\n            >\n              {option}\n            </button>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n","import React from 'react';\nimport cn from 'classnames';\n\ntype Props = {\n  currentPage: string;\n  pagesCount: number;\n  onClick: (page: string) => () => void\n};\n\nexport const Pagination: React.FC<Props> = ({\n  currentPage,\n  pagesCount,\n  onClick,\n}) => {\n  const returnButtons = (count: number) => {\n    const pages = [];\n\n    for (let i = 1; i <= count; i += 1) {\n      pages.push(i);\n    }\n\n    return pages.map(page => (\n      <button\n        className={cn(\n          'pagination__button',\n          { 'pagination__button--active': (+currentPage === page) },\n        )}\n        type=\"button\"\n        key={page}\n        onClick={onClick(page.toString())}\n      >\n        {page}\n      </button>\n    ));\n  };\n\n  return (\n    <div className=\"pagination\">\n      <div className=\"pagination__container\">\n        <button\n          className=\"pagination__button pagination__button--left\"\n          data-cy=\"paginationLeft\"\n          aria-label=\"Button left\"\n          type=\"button\"\n          onClick={onClick((+currentPage - 1).toString())}\n          disabled={+currentPage === 1}\n        />\n\n        {returnButtons(pagesCount)}\n\n        <button\n          className=\"pagination__button pagination__button--right\"\n          data-cy=\"paginationRight\"\n          aria-label=\"Button right\"\n          type=\"button\"\n          onClick={onClick((+currentPage + 1).toString())}\n          disabled={+currentPage === pagesCount}\n        />\n      </div>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { PhoneCard } from '../PhoneCard';\nimport { Selector } from '../Selector';\nimport { Pagination } from '../Pagination';\n\nimport { Phone } from '../../types/Phone';\n\ntype Props = {\n  products: Phone[] | null;\n};\n\nconst sortLabels = ['Newest', 'Alphabetically', 'Cheapest'];\nconst pageValues = ['4', '8', '16', 'all'];\nconst sortValues = ['age', 'name', 'price'];\n\nconst labels = ['Sort by', 'Items on page'];\n\nconst valuesKeys = ['sort', 'perPage', 'page'];\n\nexport const List: React.FC<Props> = ({ products }) => {\n  const [sortedBy, setSortedBy] = useState('age');\n  const [perPage, setPerPage] = useState('16');\n  const [pagesCount, setPagesCount] = useState(1);\n  const [currentPage, setCurrentPage] = useState('1');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [visibleProducts, setVisibleProducts] = useState(products);\n\n  useEffect(() => {\n    const params = new URLSearchParams(searchParams);\n\n    setSortedBy(params.get(valuesKeys[0]) || sortedBy);\n    setPerPage(params.get(valuesKeys[1]) || perPage);\n    setCurrentPage(params.get(valuesKeys[2]) || currentPage);\n\n    setSearchParams(params);\n  }, []);\n\n  useEffect(() => {\n    setPagesCount((perPage === 'all')\n      ? 1\n      : Math.ceil((products?.length || 0) / +perPage));\n  }, [perPage, searchParams]);\n\n  useEffect(() => {\n    const sorted = products?.sort((product1, product2) => {\n      switch (sortedBy) {\n        case 'name':\n          return product1.name.localeCompare(product2.name);\n\n        case 'age':\n          return product2.year - product1.year;\n\n        case 'price':\n          return product1.price - product2.price;\n\n        default:\n          throw new Error('Sort error');\n      }\n    });\n\n    const filtered = (perPage === 'all')\n      ? (sorted?.slice(0) || null)\n      : sorted\n        ?.slice((+currentPage - 1) * +perPage, +currentPage * +perPage) || null;\n\n    setVisibleProducts(filtered);\n  }, [sortedBy, perPage, currentPage, products]);\n\n  const handleOnClick = (\n    option: string,\n    setOption: React.Dispatch<React.SetStateAction<string>>,\n    valueKey: string,\n  ) => {\n    const params = new URLSearchParams(searchParams);\n\n    const param = (valueKey === 'sort')\n      ? sortValues[sortLabels.indexOf(option)]\n      : option;\n\n    setOption(param);\n    params.set(valueKey, param);\n    setCurrentPage('1');\n\n    setSearchParams(params);\n  };\n\n  const handlePage = (listPage: string) => () => {\n    const params = new URLSearchParams(searchParams);\n\n    setCurrentPage(listPage);\n    params.set('page', listPage);\n\n    setSearchParams(params);\n  };\n\n  return (\n    <div\n      className=\"products-list\"\n      data-cy=\"productList\"\n    >\n      <div className=\"products-list__sort-form\">\n        <Selector\n          options={sortLabels}\n          label={labels[0]}\n          value={sortLabels[sortValues.indexOf(sortedBy)]}\n          setOption={setSortedBy}\n          valueKey={valuesKeys[0]}\n          handleOnClick={handleOnClick}\n        />\n\n        <Selector\n          options={pageValues}\n          label={labels[1]}\n          value={perPage}\n          setOption={setPerPage}\n          valueKey={valuesKeys[1]}\n          handleOnClick={handleOnClick}\n        />\n      </div>\n\n      <div className=\"products-list__container\">\n        {visibleProducts?.map(\n          product => (\n            <PhoneCard\n              key={product.id}\n              product={product}\n            />\n          ),\n        )}\n      </div>\n\n      {(pagesCount > 1) && (\n        <Pagination\n          currentPage={currentPage}\n          pagesCount={pagesCount}\n          onClick={handlePage}\n        />\n      )}\n    </div>\n  );\n};\n","export const Loader = () => {\n  return (\n    <div className=\"loader\">\n      <div className=\"loader__spiner\" />\n    </div>\n  );\n};\n","import React from 'react';\n\ntype Props = {\n  title: string;\n};\n\nexport const NoResults: React.FC<Props> = ({ title }) => {\n  return (\n    <div className=\"no-results\">\n      {`${title} not found`}\n    </div>\n  );\n};\n","import React, { useMemo } from 'react';\nimport {\n  Link,\n  useLocation,\n} from 'react-router-dom';\n\nimport { capitalizedLetter } from '../../functions/capitalizedLetter';\n\ntype Props = {\n  name: string;\n};\n\nexport const Breadcrumbs: React.FC<Props> = ({ name }) => {\n  const location = useLocation();\n\n  const page = useMemo(() => (\n    location.pathname.split('/').slice(1)[0]\n  ), []);\n\n  const pageName = useMemo(() => (\n    capitalizedLetter(page)\n  ), []);\n\n  return (\n    <div className=\"breadcrumbs\">\n      <Link to=\"/home\" className=\"breadcrumbs__home\" />\n\n      <div className=\"breadcrumbs__icon\" />\n\n      {name ? (\n        <>\n          <Link to={`/${page}`} className=\"breadcrumbs__link\">\n            {pageName}\n          </Link>\n\n          <div className=\"breadcrumbs__icon\" />\n\n          <p className=\"breadcrumbs__text\">\n            {name}\n          </p>\n        </>\n      ) : (\n        <p className=\"breadcrumbs__text\">\n          {pageName}\n        </p>\n      )}\n    </div>\n  );\n};\n","export const capitalizedLetter = (string: string) => {\n  return string[0].toUpperCase() + string.slice(1);\n};\n","import React from 'react';\n\ntype Props = {\n  title: string;\n};\n\nexport const NoSearchResults: React.FC<Props> = ({ title }) => {\n  return (\n    <div className=\"no-results\">\n      {`${title} not found by this params`}\n    </div>\n  );\n};\n","import React from 'react';\n\nimport { List } from '../List';\nimport { Loader } from '../Loader';\n\nimport { NoResults } from '../NoResults';\nimport { Breadcrumbs } from '../Breadcrumbs';\nimport { NoSearchResults } from '../NoSearchResults';\n\nimport { Phone } from '../../types/Phone';\n\ntype Props = {\n  products: Phone[] | null;\n  isLoading: boolean;\n  title: string;\n  isNoSearchResults: boolean;\n};\n\nexport const Content: React.FC<Props> = ({\n  products,\n  isLoading,\n  title,\n  isNoSearchResults,\n}) => (\n  <div className=\"phones page__phones\">\n    {isLoading && (\n      <Loader />\n    )}\n\n    {!isLoading && (\n      <>\n        <Breadcrumbs name=\"\" />\n\n        <h1 className=\"phones__title\">\n          {title}\n        </h1>\n\n        <p className=\"phones__count\">\n          {`${products?.length} model${products?.length === 1 ? '' : 's'}`}\n        </p>\n\n        {!isNoSearchResults && !products?.length && (\n          <NoResults title={title} />\n        )}\n\n        {!isNoSearchResults && !!products?.length && (\n          <List products={products} />\n        )}\n\n        {isNoSearchResults && (\n          <NoSearchResults title={title} />\n        )}\n      </>\n    )}\n  </div>\n);\n","import { useContext, useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { getPhones } from '../../functions/getPhones';\n\nimport { Phone } from '../../types/Phone';\n\nimport { Content } from '../../components/Content';\n\nimport {\n  HandleCartStorageContext,\n} from '../../contexts/HandleCartStorageContext';\nimport {\n  HandleFavouritesStorageContext,\n} from '../../contexts/HandleFavouritesStorageContext';\n\nconst title = 'Mobile phones';\n\nexport const PhonesPage = () => {\n  const [phones, setPhones] = useState<Phone[] | null>(null);\n  const [visiblePhones, setVisiblePhones] = useState<Phone[] | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isNoSearchResults, setIsNoSearchResults] = useState(false);\n\n  const setCartStorage = useContext(HandleCartStorageContext);\n  const setFavouritesStorage = useContext(HandleFavouritesStorageContext);\n\n  const [searchParams] = useSearchParams();\n\n  const query = searchParams.get('query')?.split('+').join(' ') || '';\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    setCartStorage(JSON.parse(localStorage.getItem('cart') || '[]'));\n    setFavouritesStorage(\n      JSON.parse(localStorage.getItem('favourites') || '[]'),\n    );\n\n    getPhones()\n      .then((products: Phone[]) => {\n        setPhones(products.filter(\n          product => product.category === 'phones',\n        ));\n      })\n      .catch(() => {\n        throw new Error('Loading phones error');\n      })\n      .finally(() => setIsLoading(false));\n  }, []);\n\n  useEffect(() => {\n    const filteredProducts = phones?.filter(product => (\n      product.name.trim().toLowerCase().includes(query.toLowerCase())\n    ));\n\n    setVisiblePhones(filteredProducts || []);\n\n    setIsNoSearchResults(!filteredProducts?.length && !!phones?.length);\n  }, [query, phones]);\n\n  return (\n    <Content\n      isNoSearchResults={isNoSearchResults}\n      products={visiblePhones}\n      isLoading={isLoading}\n      title={title}\n    />\n  );\n};\n","import { useContext, useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { getPhones } from '../../functions/getPhones';\n\nimport { Phone } from '../../types/Phone';\nimport { Content } from '../../components/Content';\n\nimport {\n  HandleCartStorageContext,\n} from '../../contexts/HandleCartStorageContext';\nimport {\n  HandleFavouritesStorageContext,\n} from '../../contexts/HandleFavouritesStorageContext';\n\nconst title = 'Tablets';\n\nexport const TabletsPage = () => {\n  const [tablets, setTablets] = useState<Phone[] | null>(null);\n  const [visibleTablets, setVisibleTablets] = useState<Phone[] | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isNoSearchResults, setIsNoSearchResults] = useState(false);\n\n  const setCartStorage = useContext(HandleCartStorageContext);\n  const setFavouritesStorage = useContext(HandleFavouritesStorageContext);\n\n  const [searchParams] = useSearchParams();\n\n  const query = searchParams.get('query')?.split('+').join(' ') || '';\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    setCartStorage(JSON.parse(localStorage.getItem('cart') || '[]'));\n    setFavouritesStorage(\n      JSON.parse(localStorage.getItem('favourites') || '[]'),\n    );\n\n    getPhones()\n      .then((products: Phone[]) => {\n        setTablets(products.filter(\n          product => product.category === 'tablet',\n        ));\n      })\n      .catch(() => {\n        throw new Error('Loading phones error');\n      })\n      .finally(() => setIsLoading(false));\n  }, []);\n\n  useEffect(() => {\n    const filteredProducts = tablets?.filter(product => (\n      product.name.trim().toLowerCase().includes(query.toLowerCase())\n    ));\n\n    setVisibleTablets(filteredProducts || []);\n\n    setIsNoSearchResults(!filteredProducts?.length && !!tablets?.length);\n  }, [query, tablets]);\n\n  return (\n    <Content\n      isNoSearchResults={isNoSearchResults}\n      products={visibleTablets}\n      isLoading={isLoading}\n      title={title}\n    />\n  );\n};\n","import { useContext, useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { getPhones } from '../../functions/getPhones';\n\nimport { Phone } from '../../types/Phone';\nimport { Content } from '../../components/Content';\n\nimport {\n  HandleCartStorageContext,\n} from '../../contexts/HandleCartStorageContext';\nimport {\n  HandleFavouritesStorageContext,\n} from '../../contexts/HandleFavouritesStorageContext';\n\nconst title = 'Accessories';\n\nexport const AccessoriesPage = () => {\n  const [accessories, setAccessories] = useState<Phone[] | null>(null);\n  const [\n    visibleAccessories,\n    setVisibleAccessories,\n  ] = useState<Phone[] | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isNoSearchResults, setIsNoSearchResults] = useState(false);\n\n  const setCartStorage = useContext(HandleCartStorageContext);\n  const setFavouritesStorage = useContext(HandleFavouritesStorageContext);\n\n  const [searchParams] = useSearchParams();\n\n  const query = searchParams.get('query')?.split('+').join(' ') || '';\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    setCartStorage(JSON.parse(localStorage.getItem('cart') || '[]'));\n    setFavouritesStorage(\n      JSON.parse(localStorage.getItem('favourites') || '[]'),\n    );\n\n    getPhones()\n      .then((products: Phone[]) => {\n        setAccessories(products.filter(\n          product => product.category === 'accessories',\n        ));\n      })\n      .catch(() => {\n        throw new Error('Loading phones error');\n      })\n      .finally(() => setIsLoading(false));\n  }, []);\n\n  useEffect(() => {\n    const filteredProducts = accessories?.filter(product => (\n      product.name.trim().toLowerCase().includes(query.toLowerCase())\n    ));\n\n    setVisibleAccessories(filteredProducts || []);\n\n    setIsNoSearchResults(!filteredProducts?.length && !!accessories?.length);\n  }, [query, accessories]);\n\n  return (\n    <Content\n      isNoSearchResults={isNoSearchResults}\n      products={visibleAccessories}\n      isLoading={isLoading}\n      title={title}\n    />\n  );\n};\n","import { getPhones } from './getPhones';\n\nimport { Phone } from '../types/Phone';\n\nconst returnRandomList = (products: Phone[]) => {\n  const resultRandomList: Phone[] = [];\n\n  const max = products.length;\n\n  const getRandomProduct = () => (\n    Math.floor(Math.random() * max)\n  );\n\n  for (let i = 0; i < 10 && i < max; i += 1) {\n    let randomProduct = products[getRandomProduct()];\n\n    while (resultRandomList.includes(randomProduct)) {\n      randomProduct = products[getRandomProduct()];\n    }\n\n    resultRandomList.push(randomProduct);\n  }\n\n  return resultRandomList;\n};\n\nexport const getSuggestedProducts = () => {\n  return getPhones()\n    .then(returnRandomList);\n};\n","import {\n  RefObject,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\n\nimport { getSuggestedProducts } from '../../functions/getSuggestedProducts';\n\nimport { Phone } from '../../types/Phone';\n\nimport { SliderContent } from '../SliderContent';\n\nconst title = 'You may also like';\n\nconst gap = 16;\n\nexport const Like = () => {\n  const [products, setProducts] = useState<Phone[]>([]);\n  const [translate, setTranslate] = useState(0);\n  const [isLeftButtonDisabled, setIsLeftButtonDisabled] = useState(false);\n  const [isRightButtonDisabled, setIsRightButtonDisabled] = useState(false);\n\n  const ref = useRef() as RefObject<HTMLDivElement>;\n\n  const blockWidth = ref.current?.clientWidth || 0;\n\n  const elementWidth = useMemo(() => (blockWidth + gap) / 4, [blockWidth]);\n\n  useEffect(() => {\n    getSuggestedProducts()\n      .then(setProducts)\n      .catch(() => new Error('Loading products error'));\n\n    return () => setProducts(products);\n  }, []);\n\n  useEffect(() => {\n    if (translate === 0) {\n      setIsLeftButtonDisabled(true);\n    } else if ((products.length - 4) * elementWidth === -translate) {\n      setIsRightButtonDisabled(true);\n    } else {\n      setIsLeftButtonDisabled(false);\n      setIsRightButtonDisabled(false);\n    }\n  }, [translate]);\n\n  const onLeftClick = () => {\n    setTranslate(currentTranslate => currentTranslate + elementWidth);\n  };\n\n  const onRightClick = () => {\n    setTranslate(currentTranslate => currentTranslate - elementWidth);\n  };\n\n  return (\n    <div className=\"slider\">\n      <SliderContent\n        title={title}\n        onLeftClick={onLeftClick}\n        onRightClick={onRightClick}\n        isLeftButtonDisabled={isLeftButtonDisabled}\n        isRightButtonDisabled={isRightButtonDisabled}\n        reference={ref}\n        translate={translate}\n        products={products}\n      />\n    </div>\n  );\n};\n","export const BackButton = () => {\n  const goBack = () => {\n    window.history.back();\n  };\n\n  return (\n    <button\n      className=\"back-button\"\n      type=\"button\"\n      onClick={goBack}\n    >\n      <div className=\"back-button__icon\" />\n\n      <p className=\"back-button__text\">\n        Back\n      </p>\n    </button>\n  );\n};\n","type Colors = {\n  [key: string]: string;\n};\n\nexport const colors: Colors = {\n  black: '#222',\n  rosegold: '#e2a0b0',\n  gold: '#ffd799',\n  silver: '#eee',\n  spacegray: '#717378',\n  green: '#8eb',\n  yellow: '#fe0',\n  white: '#ffe',\n  purple: '#d0a0d0',\n  red: '#e23',\n  midnightgreen: '#004953',\n  coral: '#f88379',\n};\n","import { useContext, useEffect, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport classNames from 'classnames';\n\nimport { Loader } from '../../components/Loader';\nimport { Like } from '../../components/Like';\nimport { BackButton } from '../../components/BackButton';\nimport { Breadcrumbs } from '../../components/Breadcrumbs';\n\nimport { getPhones } from '../../functions/getPhones';\nimport { getPhoneInfo } from '../../functions/getProductInfo';\nimport { addToCartStorage } from '../../functions/addToCartStorage';\nimport { removeFromCartStorage } from '../../functions/removeFromCartStorage';\nimport {\n  removeFromFavouritesStorage,\n} from '../../functions/removeFromFavouritesStorage';\nimport { addToFavouritesStorage } from '../../functions/addToFavouritesStorage';\n\nimport { PhoneInfo } from '../../types/PhoneInfo';\nimport { Phone } from '../../types/Phone';\n\nimport { colors } from '../../services/colors';\n\nimport { CartStorageContext } from '../../contexts/CartStorageContext';\nimport {\n  FavouritesStorageContext,\n} from '../../contexts/FavouritesStorageContext';\nimport {\n  HandleCartStorageContext,\n} from '../../contexts/HandleCartStorageContext';\nimport {\n  HandleFavouritesStorageContext,\n} from '../../contexts/HandleFavouritesStorageContext';\n\nexport const PhoneDetailsPage = () => {\n  const [phoneInfo, setPhoneInfo] = useState<PhoneInfo | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [currentImage, setCurrentImage] = useState('');\n  const [currentCapacity, setCurrentCapacity] = useState('');\n  const [currentColor, setCurrentColor] = useState('');\n  const [isAddedToCart, setIsAddedToCart] = useState(false);\n  const [isAddedToFavourites, setIsAddedToFavourites] = useState(false);\n  const [phone, setPhone] = useState<Phone | null>(null);\n  const [isError, setIsError] = useState(false);\n\n  const cartStorage = useContext(CartStorageContext);\n  const favouritesStorage = useContext(FavouritesStorageContext);\n  const setCartStorage = useContext(HandleCartStorageContext);\n  const setFavouritesStorage = useContext(HandleFavouritesStorageContext);\n\n  useEffect(() => {\n    setCartStorage(JSON.parse(localStorage.getItem('cart') || '[]'));\n    setFavouritesStorage(\n      JSON.parse(localStorage.getItem('favourites') || '[]'),\n    );\n  }, []);\n\n  const { productId } = useParams();\n\n  useEffect(() => {\n    setIsAddedToCart(cartStorage.some((\n      { product }: { product: Phone },\n    ) => product.phoneId === phoneInfo?.id));\n\n    setIsAddedToFavourites(favouritesStorage.some(product => (\n      product.phoneId === phoneInfo?.id\n    )));\n\n    getPhones()\n      .then(phones => {\n        setPhone(phones.find((\n          desiredPhone: Phone,\n        ) => desiredPhone.phoneId === productId));\n      })\n      .catch(() => {\n        throw new Error('Loading phones error');\n      });\n  }, [phoneInfo]);\n\n  useEffect(() => {\n    const specs = productId?.split('-');\n\n    setCurrentCapacity(specs?.at(-2)?.toUpperCase() || '');\n    setCurrentColor(specs?.at(-1) || '');\n  }, [productId]);\n\n  useEffect(() => {\n    setIsLoading(true);\n    setIsError(false);\n\n    getPhoneInfo(productId || '')\n      .then(currentPhone => {\n        setPhoneInfo(currentPhone);\n        setCurrentImage(currentPhone.images[0]);\n      })\n      .catch(() => {\n        setIsError(true);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }, [productId]);\n\n  const handleCurrentImage = (image: string) => () => {\n    setCurrentImage(image);\n  };\n\n  const link = `/phones/${productId?.split('-').slice(0, -2).join('-')}`;\n\n  return (\n    isLoading ? (\n      <Loader />\n    ) : (\n      <div className=\"product-details page__details\">\n        <Breadcrumbs name={phoneInfo?.name || ''} />\n\n        <BackButton />\n\n        {isError ? (\n          <h2 className=\"no-results\">\n            Phone was not found\n          </h2>\n        ) : (\n          <>\n            <h1 className=\"product-details__title\">\n              {phoneInfo?.name}\n            </h1>\n\n            <div className=\"product-details__interaction-block\">\n              <div className=\"product-details__images\">\n                {phoneInfo?.images.map(image => (\n                  <button\n                    type=\"button\"\n                    className=\"product-details__image-button\"\n                    key={image}\n                    onClick={handleCurrentImage(image)}\n                  >\n                    <img\n                      src={`./${image}`}\n                      alt={image}\n                      className=\"product-details__image-icon\"\n                    />\n                  </button>\n                ))}\n              </div>\n\n              <div className=\"product-details__current-image\">\n                <img\n                  src={`./${currentImage}`}\n                  alt={phoneInfo?.name}\n                  className=\"product-details__phone-image\"\n                />\n              </div>\n\n              <div className=\"product-details__interaction\">\n                <div className=\"product-details__select-container\">\n                  <p className=\"product-details__name\">\n                    Available colors\n                  </p>\n\n                  <ul className=\"product-details__select-buttons\">\n                    {phoneInfo?.colorsAvailable.map(color => (\n                      <li\n                        key={color}\n                        className={classNames(\n                          'product-details__color',\n                          {\n                            'product-details__color--active': (\n                              color === currentColor\n                            ),\n                          },\n                        )}\n                      >\n                        <Link\n                          to={`${link}-${currentCapacity.toLowerCase()}-${color}`}\n                          className=\"product-details__color-border\"\n                          style={{ backgroundColor: colors[color] }}\n                        />\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n\n                <div className=\"product-details__line\" />\n\n                <div className=\"product-details__select-container\">\n                  <p className=\"product-details__name\">\n                    Select capacity\n                  </p>\n\n                  <div className=\"product-details__select-buttons\">\n                    {phoneInfo?.capacityAvailable.map(capacity => (\n                      <Link\n                        to={`${link}-${capacity.toLowerCase()}-${currentColor}`}\n                        className={classNames(\n                          'product-details__capacity',\n                          {\n                            'product-details__capacity--active': (\n                              capacity === currentCapacity\n                            ),\n                          },\n                        )}\n                        key={capacity}\n                      >\n                        {capacity}\n                      </Link>\n                    ))}\n                  </div>\n                </div>\n\n                <div\n                  className={classNames(\n                    'product-details__line',\n                    'product-details__line--bigger',\n                  )}\n                />\n\n                <div className=\"product-details__price-block\">\n                  <p className=\"product-details__price\">\n                    {`$${Math.round((phoneInfo?.priceDiscount || 0) / 10) * 10 - 1} `}\n\n                    <span className=\"product-details__regular-price\">\n                      {`$${Math.round((phoneInfo?.priceRegular || 0) / 10) * 10 - 1}`}\n                    </span>\n                  </p>\n\n                  <div className=\"product-details__buttons\">\n                    {isAddedToCart ? (\n                      <button\n                        className={classNames(\n                          'product-details__cart-button',\n                          'product-details__cart-button--added',\n                        )}\n                        type=\"button\"\n                        onClick={removeFromCartStorage(\n                          phone,\n                          setCartStorage,\n                          setIsAddedToCart,\n                        )}\n                      >\n                        Added to cart\n                      </button>\n                    ) : (\n                      <button\n                        className=\"product-details__cart-button\"\n                        type=\"button\"\n                        onClick={addToCartStorage(\n                          phone,\n                          setIsAddedToCart,\n                          setCartStorage,\n                        )}\n                      >\n                        Add to cart\n                      </button>\n                    )}\n\n                    <button\n                      type=\"button\"\n                      className=\"product-details__favourites-button\"\n                      onClick={isAddedToFavourites\n                        ? removeFromFavouritesStorage(\n                          phone,\n                          setFavouritesStorage,\n                          setIsAddedToFavourites,\n                        )\n                        : addToFavouritesStorage(\n                          phone,\n                          setFavouritesStorage,\n                          setIsAddedToFavourites,\n                        )}\n                    >\n                      <div\n                        className={classNames(\n                          'product-details__favourites-icon',\n                          {\n                            'product-details__favourites-icon--added': (\n                              isAddedToFavourites\n                            ),\n                          },\n                        )}\n                      />\n                    </button>\n                  </div>\n                </div>\n\n                <div className=\"product-details__info\">\n                  <div className=\"product-details__info-row\">\n                    <p className=\"product-details__info-name\">\n                      Screen\n                    </p>\n\n                    <p className=\"product-details__info-value\">\n                      {phoneInfo?.screen}\n                    </p>\n                  </div>\n\n                  <div className=\"product-details__info-row\">\n                    <p className=\"product-details__info-name\">\n                      Resolution\n                    </p>\n\n                    <p className=\"product-details__info-value\">\n                      {phoneInfo?.resolution}\n                    </p>\n                  </div>\n\n                  <div className=\"product-details__info-row\">\n                    <p className=\"product-details__info-name\">\n                      Processor\n                    </p>\n\n                    <p className=\"product-details__info-value\">\n                      {phoneInfo?.processor}\n                    </p>\n                  </div>\n\n                  <div className=\"product-details__info-row\">\n                    <p className=\"product-details__info-name\">\n                      RAM\n                    </p>\n\n                    <p className=\"product-details__info-value\">\n                      {phoneInfo?.ram}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"product-details__text-block\">\n              <div\n                className=\"product-details__description\"\n                data-cy=\"productDescription\"\n              >\n                <h3 className=\"product-details__text-subtitle\">\n                  About\n                </h3>\n\n                <div\n                  className={classNames(\n                    'product-details__line',\n                    'product-details__line--bigger',\n                  )}\n                />\n\n                {phoneInfo?.description.map(description => (\n                  <div\n                    className=\"product-details__description-block\"\n                    key={description.title}\n                  >\n                    <p className=\"product-details__description-title\">\n                      {description.title}\n                    </p>\n\n                    <p className=\"product-details__description-text\">\n                      {description.text}\n                    </p>\n                  </div>\n                ))}\n              </div>\n\n              <div className=\"product-details__specs\">\n                <h3 className=\"product-details__text-subtitle\">\n                  Tech specs\n                </h3>\n\n                <div className=\"product-details__line\" />\n\n                <div className=\"product-details__specs-row\">\n                  <p className=\"product-details__specs-name\">\n                    Screen\n                  </p>\n\n                  <p className=\"product-details__specs-value\">\n                    {phoneInfo?.screen}\n                  </p>\n                </div>\n\n                <div className=\"product-details__specs-row\">\n                  <p className=\"product-details__specs-name\">\n                    Resolution\n                  </p>\n\n                  <p className=\"product-details__specs-value\">\n                    {phoneInfo?.resolution}\n                  </p>\n                </div>\n\n                <div className=\"product-details__specs-row\">\n                  <p className=\"product-details__specs-name\">\n                    Processor\n                  </p>\n\n                  <p className=\"product-details__specs-value\">\n                    {phoneInfo?.processor}\n                  </p>\n                </div>\n\n                <div className=\"product-details__specs-row\">\n                  <p className=\"product-details__specs-name\">\n                    RAM\n                  </p>\n\n                  <p className=\"product-details__specs-value\">\n                    {phoneInfo?.ram}\n                  </p>\n                </div>\n\n                <div className=\"product-details__specs-row\">\n                  <p className=\"product-details__specs-name\">\n                    Built in memory\n                  </p>\n\n                  <p className=\"product-details__specs-value\">\n                    {phoneInfo?.capacity}\n                  </p>\n                </div>\n\n                <div className=\"product-details__specs-row\">\n                  <p className=\"product-details__specs-name\">\n                    Camera\n                  </p>\n\n                  <p className=\"product-details__specs-value\">\n                    {phoneInfo?.camera}\n                  </p>\n                </div>\n\n                <div className=\"product-details__specs-row\">\n                  <p className=\"product-details__specs-name\">\n                    Zoom\n                  </p>\n\n                  <p className=\"product-details__specs-value\">\n                    {phoneInfo?.zoom}\n                  </p>\n                </div>\n\n                <div className=\"product-details__specs-row\">\n                  <p className=\"product-details__specs-name\">\n                    Cell\n                  </p>\n\n                  <p className=\"product-details__specs-value\">\n                    {phoneInfo?.cell}\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            <Like />\n          </>\n        )}\n      </div>\n    )\n  );\n};\n","import { request } from './getProducts';\n\nexport const getPhoneInfo = (productId: string) => {\n  return request(`_new/products/${productId}.json`);\n};\n","import {\n  useCallback,\n  useContext,\n  useEffect,\n  useState,\n} from 'react';\nimport classNames from 'classnames';\n\nimport { BackButton } from '../../components/BackButton';\n\nimport { removeFromCartStorage } from '../../functions/removeFromCartStorage';\n\nimport { CartType } from '../../types/CartType';\nimport { Phone } from '../../types/Phone';\n\nimport { CartStorageContext } from '../../contexts/CartStorageContext';\nimport {\n  HandleCartStorageContext,\n} from '../../contexts/HandleCartStorageContext';\n\ntype Operator = 'plus' | 'minus';\n\nexport const CartPage = () => {\n  const [totalQuantity, setTotalQuantity] = useState(0);\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [isMessage, setIsMessage] = useState(false);\n\n  const cartStorage = useContext(CartStorageContext);\n  const setCartStorage = useContext(HandleCartStorageContext);\n\n  useEffect(() => {\n    setCartStorage(JSON.parse(localStorage.getItem('cart') || '[]'));\n  }, []);\n\n  useEffect(() => {\n    setTotalQuantity(cartStorage.reduce((\n      total: number,\n      { quantity }: { quantity: number },\n    ) => total + quantity, 0));\n\n    setTotalPrice(cartStorage.reduce((\n      total: number,\n      { quantity, product }: { quantity: number, product: Phone },\n    ) => total + quantity * (Math.round(product.price / 10) * 10 - 1), 0));\n  }, [cartStorage]);\n\n  const getMessage = useCallback(() => {\n    setIsMessage(true);\n\n    const timeout = setTimeout(() => {\n      setIsMessage(false);\n    }, 5000);\n\n    return () => clearTimeout(timeout);\n  }, []);\n\n  const changeQuantity = (\n    product: Phone,\n    quantity: number,\n    operator: Operator,\n  ) => () => {\n    if (operator === 'minus' && quantity === 1) {\n      return;\n    }\n\n    const newQuantity = quantity + ((operator === 'plus') ? 1 : -1);\n\n    const newProductQuantityInfo = cartStorage.find((\n      { id }: { id: string },\n    ) => (\n      product?.id === id\n    ));\n\n    if (newProductQuantityInfo) {\n      newProductQuantityInfo.quantity = newQuantity;\n    }\n\n    localStorage.setItem('cart', JSON.stringify(cartStorage));\n\n    setCartStorage([...cartStorage]);\n  };\n\n  return (\n    <div className=\"cart page__cart\">\n      <BackButton />\n\n      <h1 className=\"cart__title\">\n        Cart\n      </h1>\n\n      <div className=\"cart__container\">\n        {!cartStorage.length ? (\n          <div className=\"no-results\">\n            Your cart is empty\n          </div>\n        ) : (\n          <>\n            <div className=\"cart__products\">\n              {cartStorage.map(({ product, quantity, id }: CartType) => (\n                <div\n                  className=\"cart__product\"\n                  key={id}\n                >\n                  <div className=\"cart__product-info\">\n                    <button\n                      type=\"button\"\n                      className=\"cart__delete-button\"\n                      aria-label=\"Delete\"\n                      onClick={removeFromCartStorage(\n                        product,\n                        setCartStorage,\n                      )}\n                      data-cy=\"cartDeleteButton\"\n                    />\n\n                    <div className=\"cart__image-container\">\n                      <img\n                        src={`./${product.image}`}\n                        alt={product.name}\n                        className=\"cart__image\"\n                      />\n                    </div>\n\n                    <p className=\"cart__name\">\n                      {product.name}\n                    </p>\n\n                    <div className=\"cart__quantity-block\">\n                      <button\n                        type=\"button\"\n                        className={classNames(\n                          'cart__quantity-button',\n                          'cart__quantity-button--minus',\n                        )}\n                        aria-label=\"minus\"\n                        onClick={changeQuantity(product, quantity, 'minus')}\n                        disabled={quantity === 1}\n                      />\n\n                      <p\n                        className=\"cart__quantity\"\n                        data-cy=\"productQauntity\"\n                      >\n                        {quantity}\n                      </p>\n\n                      <button\n                        type=\"button\"\n                        className={classNames(\n                          'cart__quantity-button',\n                          'cart__quantity-button--plus',\n                        )}\n                        aria-label=\"plus\"\n                        onClick={changeQuantity(product, quantity, 'plus')}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"cart__product-price\">\n                    {`$${quantity * (Math.round(product.price / 10) * 10 - 1)}`}\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            <div className=\"cart__cost\">\n              <div className=\"cart__total-block\">\n                <p className=\"cart__total-price\">\n                  {`$${totalPrice}`}\n                </p>\n\n                <p className=\"cart__total-quantity\">\n                  {`Total for ${totalQuantity} items`}\n                </p>\n              </div>\n\n              <div className=\"cart__line\" />\n\n              {isMessage ? (\n                <button\n                  type=\"button\"\n                  className={classNames(\n                    'cart__checkout-button',\n                    'cart__checkout-button--clicked',\n                  )}\n                  disabled\n                >\n                  We are sorry, but this feature is not implemented yet\n                </button>\n              ) : (\n                <button\n                  type=\"button\"\n                  className=\"cart__checkout-button\"\n                  onClick={getMessage}\n                >\n                  Checkout\n                </button>\n              )}\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n","import { useContext, useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { BackButton } from '../../components/BackButton';\nimport { PhoneCard } from '../../components/PhoneCard';\nimport { NoSearchResults } from '../../components/NoSearchResults';\n\nimport {\n  FavouritesStorageContext,\n} from '../../contexts/FavouritesStorageContext';\nimport {\n  HandleFavouritesStorageContext,\n} from '../../contexts/HandleFavouritesStorageContext';\nimport {\n  HandleCartStorageContext,\n} from '../../contexts/HandleCartStorageContext';\n\nimport { Phone } from '../../types/Phone';\n\nconst title = 'Favourites';\n\nexport const FavouritesPage = () => {\n  const [totalQuantity, setTotalQuantity] = useState(0);\n  const [\n    visibleFavourites,\n    setVisibleFavourites,\n  ] = useState<Phone[] | null>(null);\n\n  const favouritesStorage = useContext(FavouritesStorageContext);\n  const setFavouritesStorage = useContext(HandleFavouritesStorageContext);\n  const setCartStorage = useContext(HandleCartStorageContext);\n\n  const [searchParams] = useSearchParams();\n\n  const query = searchParams.get('query')?.split('+').join(' ') || '';\n\n  useEffect(() => {\n    setFavouritesStorage(JSON.parse(\n      localStorage.getItem('favourites') || '[]',\n    ));\n    setCartStorage(JSON.parse(\n      localStorage.getItem('cart') || '[]',\n    ));\n  }, []);\n\n  useEffect(() => {\n    setTotalQuantity(favouritesStorage.length);\n  }, [favouritesStorage]);\n\n  useEffect(() => {\n    const filteredProducts = favouritesStorage?.filter(product => (\n      product.name.trim().toLowerCase().includes(query.toLowerCase())\n    ));\n\n    setVisibleFavourites(filteredProducts || []);\n  }, [query, favouritesStorage]);\n\n  return (\n    <div className=\"favourites page__cart\">\n      <BackButton />\n\n      <h1 className=\"favourites__title\">\n        {title}\n      </h1>\n\n      <p className=\"favourites__count\">\n        {`${visibleFavourites?.length} item${visibleFavourites?.length === 1 ? '' : 's'}`}\n      </p>\n\n      {(favouritesStorage.length !== visibleFavourites?.length) ? (\n        <NoSearchResults title={title} />\n      ) : (\n        <div className=\"favourites__container\">\n          {!totalQuantity ? (\n            <div className=\"no-results\">\n              Favourites not found\n            </div>\n          ) : (\n            <div className=\"favourites__products\">\n              {visibleFavourites?.map(product => (\n                <PhoneCard\n                  key={product.id}\n                  product={product}\n                />\n              ))}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n","export const NotFoundPage = () => {\n  return (\n    <div className=\"not-found  page__not-found\">\n      <h1 className=\"not-found__title\">\n        Sorry, page not found...\n      </h1>\n    </div>\n  );\n};\n","import {\n  HashRouter as Router,\n  Routes,\n  Route,\n  Navigate,\n} from 'react-router-dom';\n\nimport App from './App';\n\nimport { HomePage } from './pages/HomePage/HomePage';\nimport { PhonesPage } from './pages/PhonesPage';\nimport { TabletsPage } from './pages/TabletsPage';\nimport { AccessoriesPage } from './pages/AccessoriesPage';\nimport { PhoneDetailsPage } from './pages/PhoneDetailsPage';\nimport { CartPage } from './pages/CartPage';\nimport { FavouritesPage } from './pages/FavouritesPage';\nimport { NotFoundPage } from './pages/NotFoundPage';\n\nexport const Root = () => (\n  <Router>\n    <Routes>\n      <Route path=\"/\" element={<App />}>\n        <Route index element={<HomePage />} />\n\n        <Route path=\"home\" element={<Navigate to=\"/\" replace />} />\n\n        <Route path=\"phones\">\n          <Route index element={<PhonesPage />} />\n\n          <Route path=\":productId\" element={<PhoneDetailsPage />} />\n        </Route>\n\n        <Route path=\"tablets\">\n          <Route index element={<TabletsPage />} />\n\n          <Route path=\":productId\" element={<PhoneDetailsPage />} />\n        </Route>\n\n        <Route path=\"accessories\">\n          <Route index element={<AccessoriesPage />} />\n\n          <Route path=\":productId\" element={<PhoneDetailsPage />} />\n        </Route>\n\n        <Route path=\"cart\" element={<CartPage />} />\n\n        <Route path=\"favourites\" element={<FavouritesPage />} />\n\n        <Route path=\"*\" element={<NotFoundPage />} />\n      </Route>\n    </Routes>\n  </Router>\n);\n","import ReactDOM from 'react-dom';\n\nimport { Root } from './Root';\n\nReactDOM.render(\n  <Root />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}